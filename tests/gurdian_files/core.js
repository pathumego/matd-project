!function(e,t){"use strict";function n(e,t){var n,r;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(r in t)u(t,r)&&(n[r]=t[r]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(o){}}function r(e){this.name="RavenConfigError",this.message=e}function o(e){var t=U.exec(e),n={},o=7;try{for(;o--;)n[D[o]]=t[o]||""}catch(i){throw new r("Invalid DSN: "+e)}if(n.pass)throw new r("Do not specify your private key in the DSN!");return n}function i(e){return"undefined"==typeof e}function s(e){return"function"==typeof e}function a(e){return"string"==typeof e}function c(e){for(var t in e)return!1;return!0}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){var n,r;if(i(e.length))for(n in e)u(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;r>n;n++)t.call(null,n,e[n])}function f(){M="?sentry_version=4&sentry_client=raven-js/"+H.VERSION+"&sentry_key="+L}function d(e,t){var r=[];e.stack&&e.stack.length&&l(e.stack,function(e,t){var n=p(t);n&&r.push(n)}),n("handle",{stackInfo:e,options:t}),m(e.name,e.message,e.url,e.lineno,r,t)}function p(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},r=h(e);if(r){var o=["pre_context","context_line","post_context"];for(t=3;t--;)n[o[t]]=r[t]}return n.in_app=!(!F.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n}}function h(e){if(e.context&&F.fetchContext){for(var t=e.context,n=~~(t.length/2),r=t.length,o=!1;r--;)if(t[r].length>300){o=!0;break}if(o){if(i(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}}function m(e,t,n,r,o,i){var s,a;t+="",("Error"!==e||t)&&(F.ignoreErrors.test(t)||(o&&o.length?(n=o[0].filename||n,o.reverse(),s={frames:o}):n&&(s={frames:[{filename:n,lineno:r,in_app:!0}]}),t=v(t,100),F.ignoreUrls&&F.ignoreUrls.test(n)||(!F.whitelistUrls||F.whitelistUrls.test(n))&&(a=r?t+" at "+r:t,b(g({exception:{type:e,value:t},stacktrace:s,culprit:n,message:a},i)))))}function g(e,t){return t?(l(t,function(t,n){e[t]=n}),e):e}function v(e,t){return e.length<=t?e:e.substr(0,t)+"â€¦"}function y(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(e.headers.Referer=document.referrer),e}function b(e){x()&&(e=g({project:R,logger:F.logger,site:F.site,platform:"javascript",request:y()},e),e.tags=g(F.tags,e.tags),e.extra=g(F.extra,e.extra),c(e.tags)&&delete e.tags,c(e.extra)&&delete e.extra,P&&(e.user=P),s(F.dataCallback)&&(e=F.dataCallback(e)),(!s(F.shouldSendCallback)||F.shouldSendCallback(e))&&(T=e.event_id||(e.event_id=S()),w(e)))}function w(e){var t=new Image,r=I+M+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.onload=function(){n("success",{data:e,src:r})},t.onerror=t.onabort=function(){n("failure",{data:e,src:r})},t.src=r}function x(){return N?I?!0:(j("error","Error: Raven has not been configured."),!1):!1}function k(e){for(var t,n=[],r=0,o=e.length;o>r;r++)t=e[r],a(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function S(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function j(t,n){e.console&&console[t]&&H.debug&&console[t](n)}function _(){var t=e.RavenConfig;t&&H.config(t.dsn,t.config).install()}var C={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},E=[].slice,A="?";C.wrap=function(e){function t(){try{return e.apply(this,arguments)}catch(t){throw C.report(t),t}}return t},C.report=function(){function n(e){a(),h.push(e)}function r(e){for(var t=h.length-1;t>=0;--t)h[t]===e&&h.splice(t,1)}function o(){c(),h=[]}function i(e,t){var n=null;if(!t||C.collectWindowErrors){for(var r in h)if(u(h,r))try{h[r].apply(null,[e].concat(E.call(arguments,2)))}catch(o){n=o}if(n)throw n}}function s(e,t,n,r,o){var s=null;if(v)C.computeStackTrace.augmentStackTraceWithInitialElement(v,t,n,e),l();else if(o)s=C.computeStackTrace(o),i(s,!0);else{var a={url:t,line:n,column:r};a.func=C.computeStackTrace.guessFunctionName(a.url,a.line),a.context=C.computeStackTrace.gatherContext(a.url,a.line),s={message:e,url:document.location.href,stack:[a]},i(s,!0)}return d?d.apply(this,arguments):!1}function a(){p||(d=e.onerror,e.onerror=s,p=!0)}function c(){p&&(e.onerror=d,p=!1,d=t)}function l(){var e=v,t=m;m=null,v=null,g=null,i.apply(null,[e,!1].concat(t))}function f(t,n){var r=E.call(arguments,1);if(v){if(g===t)return;l()}var o=C.computeStackTrace(t);if(v=o,g=t,m=r,e.setTimeout(function(){g===t&&l()},o.incomplete?2e3:0),n!==!1)throw t}var d,p,h=[],m=null,g=null,v=null;return f.subscribe=n,f.unsubscribe=r,f.uninstall=o,f}(),C.computeStackTrace=function(){function t(t){if(!C.remoteFetching)return"";try{var n=function(){try{return new e.XMLHttpRequest}catch(t){return new e.ActiveXObject("Microsoft.XMLHTTP")}},r=n();return r.open("GET",t,!1),r.send(""),r.responseText}catch(o){return""}}function n(e){if(!a(e))return[];if(!u(x,e)){var n="";-1!==e.indexOf(document.domain)&&(n=t(e)),x[e]=n?n.split("\n"):[]}return x[e]}function r(e,t){var r,o=/function ([^(]*)\(([^)]*)\)/,s=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",c=10,u=n(e);if(!u.length)return A;for(var l=0;c>l;++l)if(a=u[t-l]+a,!i(a)){if(r=s.exec(a))return r[1];if(r=o.exec(a))return r[1]}return A}function o(e,t){var r=n(e);if(!r.length)return null;var o=[],s=Math.floor(C.linesOfContext/2),a=s+C.linesOfContext%2,c=Math.max(0,t-s-1),u=Math.min(r.length,t+a-1);t-=1;for(var l=c;u>l;++l)i(r[l])||o.push(r[l]);return o.length>0?o:null}function s(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function c(e){return s(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(e,t){for(var r,o,i=0,s=t.length;s>i;++i)if((r=n(t[i])).length&&(r=r.join("\n"),o=e.exec(r)))return{url:t[i],line:r.substring(0,o.index).split("\n").length,column:o.index-r.lastIndexOf("\n",o.index)-1};return null}function f(e,t,r){var o,i=n(t),a=new RegExp("\\b"+s(e)+"\\b");return r-=1,i&&i.length>r&&(o=a.exec(i[r]))?o.index:null}function d(t){for(var n,r,o,i,a=[e.location.href],u=document.getElementsByTagName("script"),f=""+t,d=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,p=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,h=0;h<u.length;++h){var m=u[h];m.src&&a.push(m.src)}if(o=d.exec(f)){var g=o[1]?"\\s+"+o[1]:"",v=o[2].split(",").join("\\s*,\\s*");n=s(o[3]).replace(/;$/,";?"),r=new RegExp("function"+g+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else r=new RegExp(s(f).replace(/\s+/g,"\\s+"));if(i=l(r,a))return i;if(o=p.exec(f)){var y=o[1];if(n=c(o[2]),r=new RegExp("on"+y+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),i=l(r,a[0]))return i;if(r=new RegExp(n),i=l(r,a))return i}return null}function p(e){if(!e.stack)return null;for(var t,n,s=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,c=e.stack.split("\n"),u=[],l=/^(.*) is undefined$/.exec(e.message),d=0,p=c.length;p>d;++d){if(t=a.exec(c[d]))n={url:t[3],func:t[1]||A,args:t[2]?t[2].split(","):"",line:+t[4],column:t[5]?+t[5]:null};else{if(!(t=s.exec(c[d])))continue;n={url:t[2],func:t[1]||A,line:+t[3],column:t[4]?+t[4]:null}}!n.func&&n.line&&(n.func=r(n.url,n.line)),n.line&&(n.context=o(n.url,n.line)),u.push(n)}return u.length?(u[0].line&&!u[0].column&&l?u[0].column=f(l[1],u[0].url,u[0].line):u[0].column||i(e.columnNumber)||(u[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:document.location.href,stack:u}):null}function h(e){for(var t,n=e.stacktrace,i=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,s=n.split("\n"),a=[],c=0,u=s.length;u>c;c+=2)if(t=i.exec(s[c])){var l={line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[],url:t[6]};if(!l.func&&l.line&&(l.func=r(l.url,l.line)),l.line)try{l.context=o(l.url,l.line)}catch(f){}l.context||(l.context=[s[c+1]]),a.push(l)}return a.length?{name:e.name,message:e.message,url:document.location.href,stack:a}:null}function m(t){var i=t.message.split("\n");if(i.length<4)return null;var s,a,f,d,p=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,m=/^\s*Line (\d+) of function script\s*$/i,g=[],v=document.getElementsByTagName("script"),y=[];for(a in v)u(v,a)&&!v[a].src&&y.push(v[a]);for(a=2,f=i.length;f>a;a+=2){var b=null;if(s=p.exec(i[a]))b={url:s[2],func:s[3],line:+s[1]};else if(s=h.exec(i[a])){b={url:s[3],func:s[4]};var w=+s[1],x=y[s[2]-1];if(x&&(d=n(b.url))){d=d.join("\n");var k=d.indexOf(x.innerText);k>=0&&(b.line=w+d.substring(0,k).split("\n").length)}}else if(s=m.exec(i[a])){var S=e.location.href.replace(/#.*$/,""),j=s[1],_=new RegExp(c(i[a+1]));d=l(_,[S]),b={url:S,line:d?d.line:j,func:""}}if(b){b.func||(b.func=r(b.url,b.line));var C=o(b.url,b.line),E=C?C[Math.floor(C.length/2)]:null;C&&E.replace(/^\s*/,"")===i[a+1].replace(/^\s*/,"")?b.context=C:b.context=[i[a+1]],g.push(b)}}return g.length?{name:t.name,message:i[0],url:document.location.href,stack:g}:null}function g(e,t,n,i){var s={url:t,line:n};if(s.url&&s.line){e.incomplete=!1,s.func||(s.func=r(s.url,s.line)),s.context||(s.context=o(s.url,s.line));var a=/ '([^']+)' /.exec(i);if(a&&(s.column=f(a[1],s.url,s.line)),e.stack.length>0&&e.stack[0].url===s.url){if(e.stack[0].line===s.line)return!1;if(!e.stack[0].line&&e.stack[0].func===s.func)return e.stack[0].line=s.line,e.stack[0].context=s.context,!1}return e.stack.unshift(s),e.partial=!0,!0}return e.incomplete=!0,!1}function v(e,t){for(var n,o,i,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],c={},u=!1,l=v.caller;l&&!u;l=l.caller)if(l!==y&&l!==C.report){if(o={url:null,func:A,line:null,column:null},l.name?o.func=l.name:(n=s.exec(l.toString()))&&(o.func=n[1]),i=d(l)){o.url=i.url,o.line=i.line,o.func===A&&(o.func=r(o.url,o.line));var p=/ '([^']+)' /.exec(e.message||e.description);p&&(o.column=f(p[1],i.url,i.line))}c[""+l]?u=!0:c[""+l]=!0,a.push(o)}t&&a.splice(0,t);var h={name:e.name,message:e.message,url:document.location.href,stack:a};return g(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function y(e,t){var n=null;t=null==t?0:+t;try{if(n=h(e))return n}catch(r){if(w)throw r}try{if(n=p(e))return n}catch(r){if(w)throw r}try{if(n=m(e))return n}catch(r){if(w)throw r}try{if(n=v(e,t+1))return n}catch(r){if(w)throw r}return{}}function b(e){e=(null==e?0:+e)+1;try{throw new Error}catch(t){return y(t,e+1)}}var w=!1,x={};return y.augmentStackTraceWithInitialElement=g,y.guessFunctionName=r,y.gatherContext=o,y.ofCaller=b,y}();var O,T,I,P,L,R,M,z=e.Raven,N=!(!e.JSON||!e.JSON.stringify),F={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},extra:{}},q=!1,H={VERSION:"1.1.16",debug:!0,noConflict:function(){return e.Raven=z,H},config:function(e,t){if(I)return j("error","Error: Raven has already been configured"),H;if(!e)return H;var n=o(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);return t&&l(t,function(e,t){F[e]=t}),F.ignoreErrors.push("Script error."),F.ignoreErrors.push("Script error"),F.ignoreErrors.push("Javascript error: Script error on line 0"),F.ignoreErrors.push("Javascript error: Script error. on line 0"),F.ignoreErrors=k(F.ignoreErrors),F.ignoreUrls=F.ignoreUrls.length?k(F.ignoreUrls):!1,F.whitelistUrls=F.whitelistUrls.length?k(F.whitelistUrls):!1,F.includePaths=k(F.includePaths),L=n.user,R=n.path.substr(r+1),I="//"+n.host+(n.port?":"+n.port:"")+"/"+i+"api/"+R+"/store/",n.protocol&&(I=n.protocol+":"+I),F.fetchContext&&(C.remoteFetching=!0),F.linesOfContext&&(C.linesOfContext=F.linesOfContext),C.collectWindowErrors=!!F.collectWindowErrors,f(),H},install:function(){return x()&&!q&&(C.report.subscribe(d),q=!0),H},context:function(e,n,r){return s(e)&&(r=n||[],n=e,e=t),H.wrap(e,n).apply(this,r)},wrap:function(e,n){function r(){for(var t=[],r=arguments.length,o=!e||e&&e.deep!==!1;r--;)t[r]=o?H.wrap(e,arguments[r]):arguments[r];try{return n.apply(this,t)}catch(i){throw H.captureException(i,e),i}}if(i(n)&&!s(e))return e;if(s(e)&&(n=e,e=t),!s(n))return n;if(n.__raven__)return n;for(var o in n)u(n,o)&&(r[o]=n[o]);return r.__raven__=!0,r.__inner__=n,r},uninstall:function(){return C.report.uninstall(),q=!1,H},captureException:function(e,t){if(!(e instanceof Error))return H.captureMessage(e,t);O=e;try{C.report(e,t)}catch(n){if(e!==n)throw n}return H},captureMessage:function(e,t){return b(g({message:e+""},t)),H},setUserContext:function(e){return P=e,H},setExtraContext:function(e){return F.extra=e||{},H},setTagsContext:function(e){return F.tags=e||{},H},lastException:function(){return O},lastEventId:function(){return T}};H.setUser=H.setUserContext;var D="source protocol user pass host port path".split(" "),U=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;r.prototype=new Error,r.prototype.constructor=r,_(),e.Raven=H,"function"==typeof define&&define.amd&&define("raven",[],function(){return H})}(this),function(e){"use strict";function t(){this.frames=[],this.lastId=0,this.raf=n,this.batch={hash:{},read:[],write:[],mode:null}}var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};t.prototype.read=function(e,t){var n=this.add("read",e,t),r=n.id;this.batch.read.push(n.id);var o="reading"===this.batch.mode||this.batch.scheduled;return o?r:(this.scheduleBatch(),r)},t.prototype.write=function(e,t){var n=this.add("write",e,t),r=this.batch.mode,o=n.id;this.batch.write.push(n.id);var i="writing"===r||"reading"===r||this.batch.scheduled;return i?o:(this.scheduleBatch(),o)},t.prototype.defer=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=1);var r=this,o=e-1;return this.schedule(o,function(){r.run({fn:t,ctx:n})})},t.prototype.clear=function(e){if("function"==typeof e)return this.clearFrame(e);var t=this.batch.hash[e];if(t){var n=this.batch[t.type],r=n.indexOf(e);delete this.batch.hash[e],~r&&n.splice(r,1)}},t.prototype.clearFrame=function(e){var t=this.frames.indexOf(e);~t&&this.frames.splice(t,1)},t.prototype.scheduleBatch=function(){var e=this;this.schedule(0,function(){e.batch.scheduled=!1,e.runBatch()}),this.batch.scheduled=!0},t.prototype.uniqueId=function(){return++this.lastId},t.prototype.flush=function(e){for(var t;t=e.shift();)this.run(this.batch.hash[t])},t.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(e){throw this.runBatch(),e}},t.prototype.add=function(e,t,n){var r=this.uniqueId();return this.batch.hash[r]={id:r,fn:t,ctx:n,type:e}},t.prototype.run=function(e){var t=e.ctx||this,n=e.fn;if(delete this.batch.hash[e.id],!this.onError)return n.call(t);try{n.call(t)}catch(r){this.onError(r)}},t.prototype.loop=function(){var e=this,t=this.raf;this.looping||(t(function n(){var r=e.frames.shift();e.frames.length?t(n):e.looping=!1,r&&r()}),this.looping=!0)},t.prototype.schedule=function(e,t){return this.frames[e]?this.schedule(e+1,t):(this.loop(),this.frames[e]=t)},e=e||new t,"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("fastdom",[],function(){return e}):window.fastdom=e}(window.fastdom),window.matchMedia||(window.matchMedia=function(){"use strict";var e,t,n,r=window.styleMedia||window.media;return r||(e=document.createElement("style"),t=document.getElementsByTagName("script")[0],n=null,e.type="text/css",e.id="matchmediajs-test",t.parentNode.insertBefore(e,t),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,r={matchMedium:function(t){var r="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=r:e.textContent=r,"1px"===n.width}}),function(e){return{matches:r.matchMedium(e||"all"),media:e||"all"}}}()),define("picturefill",["fastdom"],function(e){return function(t,n,r){"use strict";function o(r){var o,a,c,u,l,f=r||{};o=f.elements||i.getAllElements,e.read(function(){i.viewportWidth=Math.max(t.innerWidth||0,n.documentElement.clientWidth);for(var e=0,r=o.length;r>e;e++)a=o[e],c=a.parentNode,u=void 0,l=void 0,"IMG"===a.nodeName.toUpperCase()&&(a[i.ns]||(a[i.ns]={}),(f.reevaluate||!a[i.ns].evaluated)&&(!i.sizesSupported&&a.srcset&&s.test(a.srcset)&&i.dodgeSrcset(a),u?(l=i.processSourceSet(u),i.applyBestCandidate(l,a)):(l=i.processSourceSet(a),(void 0===a.srcset||a[i.ns].srcset)&&i.applyBestCandidate(l,a)),a[i.ns].evaluated=!0))})}if(t.HTMLPictureElement)return function(){};var i=t.picturefill||{},s=/\s+\+?\d+(e\d+)?w/;return i.ns="picturefill",function(){i.srcsetSupported="srcset"in r,i.sizesSupported="sizes"in r,i.curSrcSupported="currentSrc"in r}(),i.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},i.makeUrl=function(){var e=n.createElement("a");return function(t){return e.href=t,e.href}}(),i.canMatchMedia=t.matchMedia&&t.matchMedia("(min-width: 0px)").matches,i.matchesMedia=function(e){return i.canMatchMedia?t.matchMedia&&t.matchMedia(e).matches:!0},i.getDpr=function(){return t.devicePixelRatio||1},i.getWidthFromLength=function(e){return e=e.replace("vw","%"),e=e.indexOf("%")>-1?i.viewportWidth*parseInt(e,10)*.01:parseInt(e,10)},i.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},i.findWidthFromSourceSize=function(e){var t,n,r,o,s,a,c,u=i.trim(e).split(/\s*,\s*/);for(n=0,r=u.length;r>n&&(o=u[n],s=i.parseSize(o),a=s.length,c=s.media,!a||c&&!i.matchesMedia(c)||!(t=i.getWidthFromLength(a)));n++);return t||i.viewportWidth},i.parseSrcset=function(e){for(var t,n,r,o,i,s=[];""!==e;)e=e.replace(/^\s+/g,""),t=e.search(/\s/g),r=null,-1!==t?(n=e.slice(0,t),o=n.slice(-1),(","===o||""===n)&&(n=n.replace(/,+$/,""),r=""),e=e.slice(t+1),null===r&&(i=e.indexOf(","),-1!==i?(r=e.slice(0,i),e=e.slice(i+1)):(r=e,e=""))):(n=e,e=""),(n||r)&&s.push({url:n,descriptor:r});return s},i.parseDescriptor=function(e,t){var n,r,o,s,a,c,u=t||"100vw",l=e&&e.replace(/(^\s+|\s+$)/g,""),f=i.findWidthFromSourceSize(u);if(l)for(r=l.split(" "),o=r.length-1;o>=0;o--)s=r[o],c=s&&s.slice(s.length-1),"h"!==c&&"w"!==c||i.sizesSupported?"x"===c&&(a=s&&parseFloat(s,10),n=a&&!isNaN(a)?a:1):n=parseFloat(parseInt(s,10)/f);return n||1},i.getCandidatesFromSourceSet=function(e,t){var n,r,o,s=i.parseSrcset(e),a=[];for(r=0,o=s.length;o>r;r++)n=s[r],a.push({url:n.url,resolution:i.parseDescriptor(n.descriptor,t)});return a},i.dodgeSrcset=function(e){e.srcset&&(e[i.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[i.ns].srcset))},i.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),r=[];return"IMG"===e.nodeName.toUpperCase()&&e[i.ns]&&e[i.ns].srcset&&(t=e[i.ns].srcset),t&&(r=i.getCandidatesFromSourceSet(t,n)),r},i.applyBestCandidate=function(t,n){var r,o,s,a;for(t.sort(i.ascendingSort),o=t.length,s=t[o-1],a=0;o>a;a++)if(r=t[a],r.resolution>=i.getDpr()){s=r;break}s&&(s.url=i.makeUrl(s.url),n.src!==s.url&&e.write(function(){n.src=s.url,i.curSrcSupported||(n.currentSrc=n.src)}))},i.ascendingSort=function(e,t){return e.resolution-t.resolution},i.getAllElements=function(){var e,t,r,o=[],s=n.getElementsByTagName("img");for(t=0,r=s.length;r>t;t++)e=s[t],("PICTURE"===e.parentNode.nodeName.toUpperCase()||null!==e.getAttribute("srcset")||e[i.ns]&&null!==e[i.ns].srcset)&&o.push(e);return o},o._=i,o}(window,window.document,new window.Image)}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("bonzo",n):t[e]=n()}("bonzo",this,function(){function e(e,t){var n=null,r=E.defaultView.getComputedStyle(e,"");return r&&(n=r[t]),e.style[t]||n}function t(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function n(e,n,r){var o,i,s;if("string"==typeof e)return k.create(e);if(t(e)&&(e=[e]),r){for(s=[],o=0,i=e.length;i>o;o++)s[o]=y(n,e[o]);return s}return e}function r(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function o(e,t,n,r){for(var o,i=0,s=e.length;s>i;i++)o=r?e.length-i-1:i,t.call(n||e[o],e[o],o,e);return e}function i(e,n,r){for(var o=0,s=e.length;s>o;o++)t(e[o])&&(i(e[o].childNodes,n,r),n.call(r||e[o],e[o],o,e));return e}function s(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function a(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function c(e){e[V]("data-node-uid")||e[B]("data-node-uid",++H);var t=e[V]("data-node-uid");return q[t]||(q[t]={})}function u(e){var t=e[V]("data-node-uid");t&&delete q[t]}function l(e){var t;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(t=parseFloat(e))==e?t:e}catch(n){}return void 0}function f(e,t,n){for(var r=0,o=e.length;o>r;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function d(e){return"transform"==e&&(e=W.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=W.transform+"Origin"),e?s(e):null}function p(e,t,r,i){var s=0,a=t||this,c=[],u=Y&&"string"==typeof e&&"<"!=e.charAt(0)?Y(e):e;return o(n(u),function(e,t){o(a,function(n){r(e,c[s++]=t>0?y(a,n):n)},null,i)},this,i),a.length=s,o(c,function(e){a[--s]=e},null,!i),a}function h(e,t,n){var r=k(e),o=r.css("position"),i=r.offset(),s="relative",a=o==s,c=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];"static"==o&&(r.css("position",s),o=s),isNaN(c[0])&&(c[0]=a?0:e.offsetLeft),isNaN(c[1])&&(c[1]=a?0:e.offsetTop),null!=t&&(e.style.left=t-i.left+c[0]+$),null!=n&&(e.style.top=n-i.top+c[1]+$)}function m(e,t){return"function"==typeof t?t.call(e,e):t}function g(e,t,n){var r=this[0];return r?null==e&&null==t?(b(r)?w():{x:r.scrollLeft,y:r.scrollTop})[n]:(b(r)?C.scrollTo(e,t):(null!=e&&(r.scrollLeft=e),null!=t&&(r.scrollTop=t)),this):this}function v(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function y(e,t){var n,r,o,i=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(i).cloneEvents(t),n=e.$(i).find("*"),r=e.$(t).find("*"),o=0;o<r.length;o++)e.$(n[o]).cloneEvents(r[o]);return i}function b(e){return e===C||/^(?:body|html)$/i.test(e.tagName)}function w(){return{x:C.pageXOffset||A.scrollLeft,y:C.pageYOffset||A.scrollTop}}function x(e){var t=document.createElement("script"),n=e.match(P);return t.src=n[1],t}function k(e){return new v(e)}var S,j,_,C=window,E=C.document,A=E.documentElement,O="parentNode",T=/^(checked|value|selected|disabled)$/i,I=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,P=/\s*<script +src=['"]([^'"]+)['"]>/,L=["<table>","</table>",1],R=["<table><tbody><tr>","</tr></tbody></table>",3],M=["<select>","</select>",1],z=["_","",0,1],N={thead:L,tbody:L,tfoot:L,colgroup:L,caption:L,tr:["<table><tbody>","</tbody></table>",2],th:R,td:R,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:M,optgroup:M,script:z,style:z,link:z,param:z,base:z},F=/^(checked|selected|disabled)$/,q={},H=0,D=/^-?[\d\.]+$/,U=/^data-(.+)$/,$="px",B="setAttribute",V="getAttribute",W=function(){var e=E.createElement("p");return{transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e}}(),K=/\s+/,X=String.prototype.toString,Q={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},Y=E.querySelectorAll&&function(e){return E.querySelectorAll(e)};return W.classList?(S=function(e,t){return e.classList.contains(t)},j=function(e,t){e.classList.add(t)},_=function(e,t){e.classList.remove(t)}):(S=function(e,t){return r(t).test(e.className)},j=function(e,t){e.className=(e.className+" "+t).trim()},_=function(e,t){e.className=e.className.replace(r(t)," ").trim()}),v.prototype={get:function(e){return this[e]||null},each:function(e,t){return o(this,e,t)},deepEach:function(e,t){return i(this,e,t)},map:function(e,t){var n,r,o=[];for(r=0;r<this.length;r++)n=e.call(this,this[r],r),t?t(n)&&o.push(n):o.push(n);return o},html:function(e,t){var r=t?"textContent":"innerHTML",i=this,s=function(t,r){o(n(e,i,r),function(e){t.appendChild(e)})},a=function(n,o){try{if(t||"string"==typeof e&&!I.test(n.tagName))return n[r]=e}catch(i){}s(n,o)};return"undefined"!=typeof e?this.empty().each(a):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r.appendChild(e)})})},prepend:function(e){var t=this;return this.each(function(r,i){var s=r.firstChild;o(n(e,t,i),function(e){r.insertBefore(e,s)})})},appendTo:function(e,t){return p.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return p.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r[O].insertBefore(e,r)})})},after:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r[O].insertBefore(e,r.nextSibling)},null,1)})},insertBefore:function(e,t){return p.call(this,e,t,function(e,t){e[O].insertBefore(t,e)})},insertAfter:function(e,t){return p.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[O].insertBefore(t,n):e[O].appendChild(t)},1)},replaceWith:function(e){var t=this;return this.each(function(r,i){o(n(e,t,i),function(e){r[O]&&r[O].replaceChild(e,r)})})},clone:function(e){var t,n,r=[];for(n=0,t=this.length;t>n;n++)r[n]=y(e||this,this[n]);return k(r)},addClass:function(e){return e=X.call(e).split(K),this.each(function(t){o(e,function(e){e&&!S(t,m(t,e))&&j(t,m(t,e))})})},removeClass:function(e){return e=X.call(e).split(K),this.each(function(t){o(e,function(e){e&&S(t,m(t,e))&&_(t,m(t,e))})})},hasClass:function(e){return e=X.call(e).split(K),f(this,function(t){return f(e,function(e){return e&&S(t,e)})})},toggleClass:function(e,t){return e=X.call(e).split(K),this.each(function(n){o(e,function(e){e&&("undefined"!=typeof t?t?!S(n,e)&&j(n,e):_(n,e):S(n,e)?_(n,e):j(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return k(this.length?this[0]:[])},last:function(){return k(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(O)},related:function(e){return k(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(t,n){function r(e,t,n){for(var r in i)if(i.hasOwnProperty(r)){n=i[r],(t=d(r))&&D.test(n)&&!(t in Q)&&(n+=$);try{e.style[t]=m(e,n)}catch(o){}}}var o,i=t;return void 0===n&&"string"==typeof t?(n=this[0],n?n===E||n===C?(o=n===E?k.doc():k.viewport(),"width"==t?o.width:"height"==t?o.height:""):(t=d(t))?e(n,t):null:null):("string"==typeof t&&(i={},i[t]=n),this.each(r))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){h(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){h(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.ownerDocument.documentElement,o=n.getBoundingClientRect(),i=w(),s=n.offsetWidth,a=n.offsetHeight,c=o.top+i.y-Math.max(0,r&&r.clientTop,E.body.clientTop),u=o.left+i.x-Math.max(0,r&&r.clientLeft,E.body.clientLeft);return{top:c,left:u,height:a,width:s}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,o=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:o,width:r}},attr:function(e,t){var n,r=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?r?T.test(e)?F.test(e)&&"string"==typeof r[e]?!0:r[e]:r[V](e):null:this.each(function(n){T.test(e)?n[e]=m(n,t):n[B](e,m(n,t))})},removeAttr:function(e){return this.each(function(t){F.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,r,i=this[0];return"undefined"==typeof t?i?(n=c(i),"undefined"==typeof e?(o(i.attributes,function(e){(r=(""+e.name).match(U))&&(n[s(r[1])]=l(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=l(this.attr("data-"+a(e)))),n[e])):null:this.each(function(n){c(n)[e]=t})},remove:function(){return this.deepEach(u),this.detach()},empty:function(){return this.each(function(e){for(i(e.childNodes,u);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[O]&&e[O].removeChild(e)})},scrollTop:function(e){return g.call(this,null,e,"y")},scrollLeft:function(e){return g.call(this,e,null,"x")}},k.setQueryEngine=function(e){Y=e,delete k.setQueryEngine},k.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||v.prototype)[n]=e[n])},k.create=function(e){return"string"==typeof e&&""!==e?function(){if(P.test(e))return[x(e)];var t=e.match(/^\s*<([^\s>]+)/),n=E.createElement("div"),r=[],i=t?N[t[1].toLowerCase()]:null,s=i?i[2]+1:1,a=i&&i[3],c=O;for(n.innerHTML=i?i[0]+e+i[1]:e;s--;)n=n.firstChild;a&&n&&1!==n.nodeType&&(n=n.nextSibling);do t&&1!=n.nodeType||r.push(n);while(n=n.nextSibling);return o(r,function(e){e[c]&&e[c].removeChild(e)}),r}():t(e)?[e.cloneNode(!0)]:[]},k.doc=function(){var e=k.viewport();return{width:Math.max(E.body.scrollWidth,A.scrollWidth,e.width),height:Math.max(E.body.scrollHeight,A.scrollHeight,e.height)}},k.firstChild=function(e){for(var t,n=e.childNodes,r=0,o=n&&n.length||0;o>r;r++)1===n[r].nodeType&&(t=n[o=r]);return t},k.viewport=function(){return{width:C.innerWidth,height:C.innerHeight}},k.isAncestor="compareDocumentPosition"in A?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:function(e,t){return e!==t&&e.contains(t)},k}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("qwery",n):t[e]=n()}("qwery",this,function(){function e(){this.c={}}function t(e){return X.g(e)||X.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function n(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n])}function r(e){for(var t=[],n=0,r=e.length;r>n;++n)m(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function o(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=e[t];return r}function i(e){for(;(e=e.previousSibling)&&1!=e[A];);return e}function s(e){return e.match(W)}function a(e,n,r,o,i,s,a,c,l,f,d){var p,h,m,g,v;if(1!==this[A])return!1;if(n&&"*"!==n&&this[E]&&this[E].toLowerCase()!==n)return!1;if(r&&(h=r.match(O))&&h[1]!==this.id)return!1;if(r&&(v=r.match(T)))for(p=v.length;p--;)if(!t(v[p].slice(1)).test(this.className))return!1;if(l&&y.pseudos[l]&&!y.pseudos[l](this,d))return!1;
if(o&&!a){g=this.attributes;for(m in g)if(Object.prototype.hasOwnProperty.call(g,m)&&(g[m].name||m)==i)return this}return o&&!u(s,Z(this,i)||"",a)?!1:this}function c(e){return Q.g(e)||Q.s(e,e.replace(q,"\\$1"))}function u(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(Y.g("^="+n)||Y.s("^="+n,"^"+c(n),1));case"$=":return t.match(Y.g("$="+n)||Y.s("$="+n,c(n)+"$",1));case"*=":return t.match(Y.g(n)||Y.s(n,c(n),1));case"~=":return t.match(Y.g("~="+n)||Y.s("~="+n,"(?:^|\\s+)"+c(n)+"(?:\\s+|$)",1));case"|=":return t.match(Y.g("|="+n)||Y.s("|="+n,"^"+c(n)+"(-|$)",1))}return 0}function l(e,t){var r,o,i,c,u,l,f,p=[],h=[],m=t,g=G.g(e)||G.s(e,e.split(V)),y=e.match(B);if(!g.length)return p;if(c=(g=g.slice(0)).pop(),g.length&&(i=g[g.length-1].match(I))&&(m=v(t,i[1])),!m)return p;for(l=s(c),u=m!==t&&9!==m[A]&&y&&/^[+~]$/.test(y[y.length-1])?function(e){for(;m=m.nextSibling;)1==m[A]&&(l[1]?l[1]==m[E].toLowerCase():1)&&(e[e.length]=m);return e}([]):m[j](l[1]||"*"),r=0,o=u.length;o>r;r++)(f=a.apply(u[r],l))&&(p[p.length]=f);return g.length?(n(p,function(e){d(e,g,y)&&(h[h.length]=e)}),h):p}function f(e,t,n){if(p(t))return e==t;if(m(t))return!!~r(t).indexOf(e);for(var o,i,c=t.split(",");t=c.pop();)if(o=G.g(t)||G.s(t,t.split(V)),i=t.match(B),o=o.slice(0),a.apply(e,s(o.pop()))&&(!o.length||d(e,o,i,n)))return!0;return!1}function d(e,t,n,r){function o(e,r,c){for(;c=K[n[r]](c,e);)if(p(c)&&a.apply(c,s(t[r]))){if(!r)return c;if(i=o(c,r-1,c))return i}}var i;return(i=o(e,t.length-1,e))&&(!r||J(i,r))}function p(e,t){return e&&"object"==typeof e&&(t=e[A])&&(1==t||9==t)}function h(e){var t,n,r=[];e:for(t=0;t<e.length;++t){for(n=0;n<r.length;++n)if(r[n]==e[t])continue e;r[r.length]=e[t]}return r}function m(e){return"object"==typeof e&&isFinite(e.length)}function g(e){return e?"string"==typeof e?y(e)[0]:!e[A]&&m(e)?e[0]:e:x}function v(e,t,n){return 9===e[A]?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&J(n,e)&&n||!J(e,e.ownerDocument)&&w('[id="'+t+'"]',e)[0])}function y(e,t){var n,i,s=g(t);if(!s||!e)return[];if(e===window||p(e))return!t||e!==window&&p(s)&&J(e,s)?[e]:[];if(e&&m(e))return r(e);if(n=e.match($)){if(n[1])return(i=v(s,n[1]))?[i]:[];if(n[2])return o(s[j](n[2]));if(ee&&n[3])return o(s[S](n[3]))}return w(e,s)}function b(e,t){return function(n){var r,o;return M.test(n)?void(9!==e[A]&&((o=r=e.getAttribute("id"))||e.setAttribute("id",o="__qwerymeupscotty"),n='[id="'+o+'"]'+n,t(e.parentNode||e,n,!0),r||e.removeAttribute("id"))):void(n.length&&t(e,n,!1))}}var w,x=document,k=x.documentElement,S="getElementsByClassName",j="getElementsByTagName",_="querySelectorAll",C="useNativeQSA",E="tagName",A="nodeType",O=/#([\w\-]+)/,T=/\.[\w\-]+/g,I=/^#([\w\-]+)$/,P=/^\.([\w\-]+)$/,L=/^([\w\-]+)$/,R=/^([\w]+)?\.([\w\-]+)$/,M=/(^|,)\s*[>~+]/,z=/^\s+|\s*([,\s\+\~>]|$)\s*/g,N=/[\s\>\+\~]/,F=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,q=/([.*+?\^=!:${}()|\[\]\/\\])/g,H=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,D=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,U=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,$=new RegExp(I.source+"|"+L.source+"|"+P.source),B=new RegExp("("+N.source+")"+F.source,"g"),V=new RegExp(N.source+F.source),W=new RegExp(H.source+"("+D.source+")?("+U.source+")?"),K={" ":function(e){return e&&e!==k&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,r){return e?(n=i(e))&&(r=i(t))&&n==r&&n:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var X=new e,Q=new e,Y=new e,G=new e,J="compareDocumentPosition"in k?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:"contains"in k?function(e,t){return t=9===t[A]||t==window?k:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},Z=function(){var e=x.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,t){return"class"===t?e.className:"href"===t||"src"===t?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),ee=!!x[S],te=x.querySelector&&x[_],ne=function(e,t){var r,i,s=[];try{return 9!==t[A]&&M.test(e)?(n(r=e.split(","),b(t,function(e,t){i=e[_](t),1==i.length?s[s.length]=i.item(0):i.length&&(s=s.concat(o(i)))})),r.length>1&&s.length>1?h(s):s):o(t[_](e))}catch(a){}return re(e,t)},re=function(e,r){var o,i,s,a,c,u,f=[];if(e=e.replace(z,"$1"),i=e.match(R)){for(c=t(i[2]),o=r[j](i[1]||"*"),s=0,a=o.length;a>s;s++)c.test(o[s].className)&&(f[f.length]=o[s]);return f}return n(u=e.split(","),b(r,function(e,t,n){for(c=l(t,e),s=0,a=c.length;a>s;s++)(9===e[A]||n||J(c[s],r))&&(f[f.length]=c[s])})),u.length>1&&f.length>1?h(f):f},oe=function(e){"undefined"!=typeof e[C]&&(w=e[C]&&te?ne:re)};return oe({useNativeQSA:!0}),y.configure=oe,y.uniq=h,y.is=f,y.pseudos={},y}),define("lodash/internals/isNative",[],function(){function e(e){return"function"==typeof e&&r.test(e)}var t=Object.prototype,n=t.toString,r=RegExp("^"+String(n).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return e}),define("lodash/internals/objectTypes",[],function(){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};return e}),define("lodash/objects/isObject",["../internals/objectTypes"],function(e){function t(t){return!(!t||!e[typeof t])}return t}),define("lodash/utilities/noop",[],function(){function e(){}return e}),define("lodash/internals/baseCreate",["./isNative","../objects/isObject","../utilities/noop"],function(e,t,n){function r(e,n){return t(e)?o(e):{}}var o=e(o=Object.create)&&o;return o||(r=function(){function e(){}return function(n){if(t(n)){e.prototype=n;var r=new e;e.prototype=null}return r||window.Object()}}()),r}),define("lodash/internals/setBindData",["./isNative","../utilities/noop"],function(e,t){var n={configurable:!1,enumerable:!1,value:null,writable:!1},r=function(){try{var t={},n=e(n=Object.defineProperty)&&n,r=n(t,t,t)&&n}catch(o){}return r}(),o=r?function(e,t){n.value=t,r(e,"__bindData__",n)}:t;return o}),define("lodash/internals/slice",[],function(){function e(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}return e}),define("lodash/internals/baseBind",["./baseCreate","../objects/isObject","./setBindData","./slice"],function(e,t,n,r){function o(o){function i(){if(c){var n=r(c);s.apply(n,arguments)}if(this instanceof i){var o=e(a.prototype),l=a.apply(o,n||arguments);return t(l)?l:o}return a.apply(u,n||arguments)}var a=o[0],c=o[2],u=o[4];return n(i,o),i}var i=[],s=i.push;return o}),define("lodash/internals/baseCreateWrapper",["./baseCreate","../objects/isObject","./setBindData","./slice"],function(e,t,n,r){function o(i){function a(){var n=h?d:this;if(l){var i=r(l);s.apply(i,arguments)}if((f||g)&&(i||(i=r(arguments)),f&&s.apply(i,f),g&&i.length<p))return u|=16,o([c,v?u:-4&u,i,null,d,p]);if(i||(i=arguments),m&&(c=n[y]),this instanceof a){n=e(c.prototype);var b=c.apply(n,i);return t(b)?b:n}return c.apply(n,i)}var c=i[0],u=i[1],l=i[2],f=i[3],d=i[4],p=i[5],h=1&u,m=2&u,g=4&u,v=8&u,y=c;return n(a,i),a}var i=[],s=i.push;return o}),define("lodash/objects/isFunction",[],function(){function e(e){return"function"==typeof e}var t="[object Function]",n=Object.prototype,r=n.toString;return e(/x/)&&(e=function(e){return"function"==typeof e&&r.call(e)==t}),e}),define("lodash/internals/createWrapper",["./baseBind","./baseCreateWrapper","../objects/isFunction","./slice"],function(e,t,n,r){function o(i,c,u,l,f,d){var p=1&c,h=2&c,m=4&c,g=16&c,v=32&c;if(!h&&!n(i))throw new TypeError;g&&!u.length&&(c&=-17,g=u=!1),v&&!l.length&&(c&=-33,v=l=!1);var y=i&&i.__bindData__;if(y&&y!==!0)return y=r(y),y[2]&&(y[2]=r(y[2])),y[3]&&(y[3]=r(y[3])),!p||1&y[1]||(y[4]=f),!p&&1&y[1]&&(c|=8),!m||4&y[1]||(y[5]=d),g&&s.apply(y[2]||(y[2]=[]),u),v&&a.apply(y[3]||(y[3]=[]),l),y[1]|=c,o.apply(null,y);var b=1==c||17===c?e:t;return b([i,c,u,l,f,d])}var i=[],s=i.push,a=i.unshift;return o}),define("lodash/support",["./internals/isNative"],function(e){var t=/\bthis\b/,n="[object Arguments]",r="[object Object]",o=[],i=Error.prototype,s=Object.prototype,a=s.toString,c=s.propertyIsEnumerable,u={};return function(){var s=function(){this.x=1},l={0:1,length:1},f=[];s.prototype={valueOf:1,y:1};for(var d in new s)f.push(d);for(d in arguments);u.argsClass=a.call(arguments)==n,u.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),u.enumErrorProps=c.call(i,"message")||c.call(i,"name"),u.enumPrototypes=c.call(s,"prototype"),u.funcDecomp=!e(window.WinRTError)&&t.test(function(){return this}),u.funcNames="string"==typeof Function.name,u.nonEnumArgs=0!=d,u.nonEnumShadows=!/valueOf/.test(f),u.ownLast="x"!=f[0],u.spliceObjects=(o.splice.call(l,0,1),!l[0]),u.unindexedChars="x"[0]+Object("x")[0]!="xx";try{u.nodeClass=!(a.call(document)==r&&!({toString:0}+""))}catch(p){u.nodeClass=!0}}(1),u}),define("lodash/functions/bind",["../internals/createWrapper","../internals/slice","../support"],function(e,t,n){function r(n,r){return arguments.length>2?e(n,17,t(arguments,2),null,r):e(n,1,null,null,r)}return r}),define("lodash/utilities/identity",[],function(){function e(e){return e}return e}),define("lodash/internals/baseCreateCallback",["../functions/bind","../utilities/identity","./setBindData","../support"],function(e,t,n,r){function o(o,c,u){if("function"!=typeof o)return t;if("undefined"==typeof c||!("prototype"in o))return o;var l=o.__bindData__;if("undefined"==typeof l&&(r.funcNames&&(l=!o.name),l=l||!r.funcDecomp,!l)){var f=a.call(o);r.funcNames||(l=!i.test(f)),l||(l=s.test(f),n(o,l))}if(l===!1||l!==!0&&1&l[1])return o;switch(u){case 1:return function(e){return o.call(c,e)};case 2:return function(e,t){return o.call(c,e,t)};case 3:return function(e,t,n){return o.call(c,e,t,n)};case 4:return function(e,t,n,r){return o.call(c,e,t,n,r)}}return e(o,c)}var i=/^\s*function[ \n\r\t]+\w/,s=/\bthis\b/,a=Function.prototype.toString;return o}),define("lodash/internals/indicatorObject",[],function(){var e={};return e}),define("lodash/objects/isArguments",["../support"],function(e){function t(e){return e&&"object"==typeof e&&"number"==typeof e.length&&o.call(e)==n||!1}var n="[object Arguments]",r=Object.prototype,o=r.toString,i=r.hasOwnProperty,s=r.propertyIsEnumerable;return e.argsClass||(t=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&i.call(e,"callee")&&!s.call(e,"callee")||!1}),t}),define("lodash/objects/isArray",["../internals/isNative"],function(e){var t="[object Array]",n=Object.prototype,r=n.toString,o=e(o=Array.isArray)&&o,i=o||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&r.call(e)==t||!1};return i}),define("lodash/objects/isString",[],function(){function e(e){return"string"==typeof e||e&&"object"==typeof e&&r.call(e)==t||!1}var t="[object String]",n=Object.prototype,r=n.toString;return e}),define("lodash/internals/iteratorTemplate",["../support"],function(e){var t=function(t){var n="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(n+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",e.unindexedChars&&(n+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),n+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):e.nonEnumArgs&&(n+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),e.enumPrototypes&&(n+="\n  var skipProto = typeof iterable == 'function';\n  "),e.enumErrorProps&&(n+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var r=[];if(e.enumPrototypes&&r.push('!(skipProto && index == "prototype")'),e.enumErrorProps&&r.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)n+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",r.length&&(n+="    if ("+r.join(" && ")+") {\n  "),n+=t.loop+";    ",r.length&&(n+="\n    }"),n+="\n  }  ";else if(n+="\n  for (index in iterable) {\n",t.useHas&&r.push("hasOwnProperty.call(iterable, index)"),r.length&&(n+="    if ("+r.join(" && ")+") {\n  "),n+=t.loop+";    ",r.length&&(n+="\n    }"),n+="\n  }    ",e.nonEnumShadows){for(n+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)n+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(n+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),n+=") {\n      "+t.loop+";\n    }      ";n+="\n  }    "}return(t.array||e.nonEnumArgs)&&(n+="\n}"),n+=t.bottom+";\nreturn result"};return t}),define("lodash/internals/createIterator",["./baseCreateCallback","./indicatorObject","../objects/isArguments","../objects/isArray","../objects/isString","./iteratorTemplate","./objectTypes"],function(e,t,n,r,o,i,s){function a(){y.shadowedProps=c,y.array=y.bottom=y.loop=y.top="",y.init="iterable",y.useHas=!0;for(var a,u=0;a=arguments[u];u++)for(var l in a)y[l]=a[l];var f=y.args;y.firstArg=/^[^,]+/.exec(f)[0];var p=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+f+") {\n"+i(y)+"\n}");return p(e,d,b,S,t,n,r,o,y.keys,w,s,j,v,x,k)}var c=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],u="[object Array]",l="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",h="[object Number]",m="[object Object]",g="[object RegExp]",v="[object String]",y={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},b=Error.prototype,w=Object.prototype,x=String.prototype,k=w.toString,S=w.hasOwnProperty,j={};return j[u]=j[f]=j[h]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},j[l]=j[v]={constructor:!0,toString:!0,valueOf:!0},j[d]=j[p]=j[g]={constructor:!0,toString:!0},j[m]={constructor:!0},function(){for(var e=c.length;e--;){var t=c[e];for(var n in j)S.call(j,n)&&!S.call(j[n],t)&&(j[n][t]=!1)}}(),a}),define("lodash/internals/shimKeys",["./createIterator"],function(e){var t=e({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"});return t}),define("lodash/objects/keys",["./isArguments","../internals/isNative","./isObject","../internals/shimKeys","../support"],function(e,t,n,r,o){var i=t(i=Object.keys)&&i,s=i?function(t){return n(t)?o.enumPrototypes&&"function"==typeof t||o.nonEnumArgs&&t.length&&e(t)?r(t):i(t):[]}:r;return s}),define("lodash/internals/eachIteratorOptions",["../objects/keys"],function(e){var t={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:e,loop:"if (callback(iterable[index], index, collection) === false) return result"};return t}),define("lodash/internals/baseEach",["./createIterator","./eachIteratorOptions"],function(e,t){var n=e(t);return n}),define("lodash/collections/forEach",["../internals/baseCreateCallback","../internals/baseEach","../objects/isArray"],function(e,t,n){function r(e,r,o){if(r&&"undefined"==typeof o&&n(e))for(var i=-1,s=e.length;++i<s&&r(e[i],i,e)!==!1;);else t(e,r,o);return e}return r}),define("common/utils/$",["bonzo","qwery","lodash/collections/forEach"],function(e,t,n){function r(n,r){return e(t(n,r))}return e.aug({height:function(){return this.dim().height}}),r.create=function(t){return e(e.create(t))},r.ancestor=function(t,n){return"html"===t.nodeName.toLowerCase()?!1:!t.parentNode||e(t.parentNode).hasClass(n)?t.parentNode:r.ancestor(t.parentNode,n)},r.forEachElement=function(e,r){var o=t(e);return n(o,r),o},r}),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("reqwest",n):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,i=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),a=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),c=r.match(a),u=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?r=r.replace(a,"$1="+s):s=c[3]:r=urlappend(r,i+"="+s),context[s]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,"undefined"==typeof u.onreadystatechange||f||(u.htmlFor=u.id="_reqwest_"+o),u.onload=u.onreadystatechange=function(){return u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||l?!1:(u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),void(l=1))},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),l=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,s=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,a=!1;return"jsonp"!=r.type&&"GET"!=o||!s||(i=urlappend(i,s),s=null),"jsonp"==r.type?handleJsonp(r,e,t,i):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,i,r.async===!1?!1:!0),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},a=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),a?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return null===e?void 0:e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,i,s=e.name,a=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!(n||r)||e.checked)&&t(s,normalize(n&&""===o?"on":o)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&c(e.options[i])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,o,i;for(r=0;r<t.length;r++)for(i=e[byTag](t[r]),o=0;o<i.length;o++)serial(i[o],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,i,s,a=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)s=t[i],n||a.test(e)?r(e,s):buildParams(e+"["+("object"==typeof s?i:"")+"]",s,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,i=[],s=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=s(e)+"="+s(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)a(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,a);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),define("common/utils/pad",[],function(){return function(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}}),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,o=this,i=o.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,o=this.getListenersAsObject(e),i="object"==typeof n;for(r in o)o.hasOwnProperty(r)&&-1===t(o[r],n)&&o[r].push(i?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,o,i=this.getListenersAsObject(e);for(o in i)i.hasOwnProperty(o)&&(r=t(i[o],n),-1!==r&&i[o].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):s.call(this,r,o));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,o,i,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(r=s[o].length;r--;)n=s[o][r],n.once===!0&&this.removeListener(e,n.listener),i=n.listener.apply(this,t||[]),i===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=i,e},"function"==typeof define&&define.amd?define("EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:o.EventEmitter=e}.call(this),define("common/utils/mediator",["EventEmitter"],function(e){return new e}),define("lodash/internals/forOwnIteratorOptions",["./eachIteratorOptions"],function(e){var t={top:"if (!objectTypes[typeof iterable]) return result;\n"+e.top,array:!1};return t}),define("lodash/objects/forIn",["../internals/createIterator","../internals/eachIteratorOptions","../internals/forOwnIteratorOptions"],function(e,t,n){var r=e(t,n,{useHas:!1});return r}),define("lodash/internals/arrayPool",[],function(){var e=[];return e}),define("lodash/internals/getArray",["./arrayPool"],function(e){function t(){return e.pop()||[]}return t}),define("lodash/internals/isNode",[],function(){function e(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}return e}),define("lodash/internals/maxPoolSize",[],function(){var e=40;return e}),define("lodash/internals/releaseArray",["./arrayPool","./maxPoolSize"],function(e,t){function n(n){n.length=0,e.length<t&&e.push(n)}return n}),define("lodash/internals/baseIsEqual",["../objects/forIn","./getArray","../objects/isArguments","../objects/isFunction","./isNode","./objectTypes","./releaseArray","../support"],function(e,t,n,r,o,i,s,a){function c(v,w,x,k,S,j){if(x){var _=x(v,w);if("undefined"!=typeof _)return!!_}if(v===w)return 0!==v||1/v==1/w;var C=typeof v,E=typeof w;if(!(v!==v||v&&i[C]||w&&i[E]))return!1;if(null==v||null==w)return v===w;var A=y.call(v),O=y.call(w);if(A==u&&(A=h),O==u&&(O=h),A!=O)return!1;switch(A){case f:case d:return+v==+w;case p:return v!=+v?w!=+w:0==v?1/v==1/w:v==+w;case m:case g:return v==String(w)}var T=A==l;if(!T){var I=b.call(v,"__wrapped__"),P=b.call(w,"__wrapped__");if(I||P)return c(I?v.__wrapped__:v,P?w.__wrapped__:w,x,k,S,j);if(A!=h||!a.nodeClass&&(o(v)||o(w)))return!1;var L=!a.argsObject&&n(v)?Object:v.constructor,R=!a.argsObject&&n(w)?Object:w.constructor;if(L!=R&&!(r(L)&&L instanceof L&&r(R)&&R instanceof R)&&"constructor"in v&&"constructor"in w)return!1}var M=!S;S||(S=t()),j||(j=t());for(var z=S.length;z--;)if(S[z]==v)return j[z]==w;var N=0;if(_=!0,S.push(v),j.push(w),T){if(z=v.length,N=w.length,_=N==z,_||k)for(;N--;){var F=z,q=w[N];if(k)for(;F--&&!(_=c(v[F],q,x,k,S,j)););else if(!(_=c(v[N],q,x,k,S,j)))break}}else e(w,function(e,t,n){return b.call(n,t)?(N++,_=b.call(v,t)&&c(v[t],e,x,k,S,j)):void 0}),_&&!k&&e(v,function(e,t,n){return b.call(n,t)?_=--N>-1:void 0});return S.pop(),j.pop(),M&&(s(S),s(j)),_}var u="[object Arguments]",l="[object Array]",f="[object Boolean]",d="[object Date]",p="[object Number]",h="[object Object]",m="[object RegExp]",g="[object String]",v=Object.prototype,y=v.toString,b=v.hasOwnProperty;return c}),define("lodash/utilities/property",[],function(){function e(e){return function(t){return t[e]}}return e}),define("lodash/functions/createCallback",["../internals/baseCreateCallback","../internals/baseIsEqual","../objects/isObject","../objects/keys","../utilities/property"],function(e,t,n,r,o){function i(i,s,a){var c=typeof i;if(null==i||"function"==c)return e(i,s,a);if("object"!=c)return o(i);
var u=r(i),l=u[0],f=i[l];return 1!=u.length||f!==f||n(f)?function(e){for(var n=u.length,r=!1;n--&&(r=t(e[u[n]],i[u[n]],null,!0)););return r}:function(e){var t=e[l];return f===t&&(0!==f||1/f==1/t)}}return i}),define("lodash/arrays/last",["../functions/createCallback","../internals/slice"],function(e,t){function n(n,i,s){var a=0,c=n?n.length:0;if("number"!=typeof i&&null!=i){var u=c;for(i=e(i,s,3);u--&&i(n[u],u,n);)a++}else if(a=i,null==a||s)return n?n[c-1]:r;return t(n,o(0,c-a))}var r,o=Math.max;return n}),define("lodash/arrays/findIndex",["../functions/createCallback"],function(e){function t(t,n,r){var o=-1,i=t?t.length:0;for(n=e(n,r,3);++o<i;)if(n(t[o],o,t))return o;return-1}return t}),define("lodash/internals/defaultsIteratorOptions",["../objects/keys"],function(e){var t={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:e,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"};return t}),define("lodash/objects/defaults",["../internals/createIterator","../internals/defaultsIteratorOptions"],function(e,t){var n=e(t);return n}),define("lodash/arrays/first",["../functions/createCallback","../internals/slice"],function(e,t){function n(n,s,a){var c=0,u=n?n.length:0;if("number"!=typeof s&&null!=s){var l=-1;for(s=e(s,a,3);++l<u&&s(n[l],l,n);)c++}else if(c=s,null==c||a)return n?n[0]:r;return t(n,0,i(o(0,c),u))}var r,o=Math.max,i=Math.min;return n}),define("lodash/collections/forEachRight",["../internals/baseCreateCallback","../internals/baseEach","../objects/isArray","../objects/isString","../objects/keys","../support"],function(e,t,n,r,o,i){function s(s,a,c){var u=s,l=s?s.length:0;if(a=a&&"undefined"==typeof c?a:e(a,c,3),n(s))for(;l--&&a(s[l],l,s)!==!1;);else{if("number"!=typeof l){var f=o(s);l=f.length}else i.unindexedChars&&r(s)&&(u=s.split(""));t(s,function(e,t,n){return t=f?f[--l]:--l,a(u[t],t,n)})}return s}return s}),define("lodash/collections/findLast",["../functions/createCallback","./forEachRight"],function(e,t){function n(n,r,o){var i;return r=e(r,o,3),t(n,function(e,t,n){return r(e,t,n)?(i=e,!1):void 0}),i}return n}),define("lodash/functions/partialRight",["../internals/createWrapper","../internals/slice"],function(e,t){function n(n){return e(n,32,null,t(arguments,1))}return n}),define("common/utils/chain",["lodash/functions/partialRight"],function(e){var t={setValue:function(e){this.__value=e},and:function(){var t=e.apply(null,arguments),n=t(this.value());return i(n)},value:function(){return this.__value},valueOf:function(){return this.value()}},n=["concat","join","reverse","sort"],r=["slice","shift","pop","push","splice","unshift"];n.forEach(function(e){t[e]=function(){var t=Array.prototype.slice.call(arguments),n=Array.prototype[e].apply(this.value(),t);return i(n)}}),r.forEach(function(e){t[e]=function(){var t=Array.prototype.slice.call(arguments);return Array.prototype[e].apply(this.value(),t),i(this.value())}});var o=function(e){if(Object.create)return Object.create(e);var t=function(){};return t.prototype=e,new t},i=function(e){var n=o(t);return n.setValue(e),n};return i}),define("lodash/internals/baseIndexOf",[],function(){function e(e,t,n){for(var r=(n||0)-1,o=e?e.length:0;++r<o;)if(e[r]===t)return r;return-1}return e}),define("lodash/collections/contains",["../internals/baseEach","../internals/baseIndexOf","../objects/isArray","../objects/isString"],function(e,t,n,r){function o(o,s,a){var c=-1,u=t,l=o?o.length:0,f=!1;return a=(0>a?i(0,l+a):a)||0,n(o)?f=u(o,s,a)>-1:"number"==typeof l?f=(r(o)?o.indexOf(s,a):u(o,s,a))>-1:e(o,function(e){return++c>=a?!(f=e===s):void 0}),f}var i=Math.max;return o}),define("lodash/collections/map",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,n){function r(r,o,i){var s=-1,a=r?r.length:0,c=Array("number"==typeof a?a:0);if(o=t(o,i,3),n(r))for(;++s<a;)c[s]=o(r[s],s,r);else e(r,function(e,t,n){c[++s]=o(e,t,n)});return c}return r}),define("lodash/collections/pluck",["./map"],function(e){var t=e;return t}),define("lodash/arrays/initial",["../functions/createCallback","../internals/slice"],function(e,t){function n(n,i,s){var a=0,c=n?n.length:0;if("number"!=typeof i&&null!=i){var u=c;for(i=e(i,s,3);u--&&i(n[u],u,n);)a++}else a=null==i||s?1:i||a;return t(n,0,o(r(0,c-a),c))}var r=Math.max,o=Math.min;return n}),define("lodash/arrays/rest",["../functions/createCallback","../internals/slice"],function(e,t){function n(n,o,i){if("number"!=typeof o&&null!=o){var s=0,a=-1,c=n?n.length:0;for(o=e(o,i,3);++a<c&&o(n[a],a,n);)s++}else s=null==o||i?1:r(0,o);return t(n,s)}var r=Math.max;return n}),define("common/utils/detect",["common/utils/mediator","common/utils/$","lodash/arrays/last","lodash/arrays/findIndex","lodash/objects/defaults","lodash/arrays/first","lodash/collections/findLast","common/utils/chain","lodash/collections/contains","lodash/collections/pluck","lodash/arrays/initial","lodash/arrays/rest"],function(e,t,n,r,o,i,s,a,c,u,l,f){function d(e){var t=I(e);return function(n){var r=I(e);r!==t&&(n(r,t),t=r)}}function p(e){var t,n,r,o=e||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return o&&o.timing&&(t=o.timing.requestStart||o.timing.fetchStart||o.timing.navigationStart,n=o.timing.responseEnd,t&&n&&(r=n-t)),r}function h(){var e=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return e&&e.navigation?e.navigation.type===e.navigation.TYPE_RELOAD:!1}function m(){return/(iPad|iPhone|iPod touch)/i.test(navigator.userAgent)}function g(){return/Android/i.test(navigator.userAgent)}function v(){return navigator.mozApps&&!window.locationbar.visible}function y(){return navigator.userAgent.indexOf("FBAN/")>-1}function b(){return navigator.userAgent.indexOf("Twitter for iPhone")>-1}function w(){return/\.t\.co/.test(document.referrer)}function x(){return/\.facebook\.com/.test(document.referrer)}function k(){return/\.theguardian\.com/.test(document.referrer)}function S(){var e=/socialContext=(facebook|twitter)/.exec(window.location.hash);return null!==e?e[1]:y()||x()?"facebook":b()||w()?"twitter":null}function j(e,t,n){t=t||navigator.connection||navigator.mozConnection||navigator.webkitConnection||{type:"unknown"};var r,o,i=3===t.type||4===t.type||/^[23]g$/.test(t.type);return i?"low":(r=p(e),o="high",n&&(o="unknown"),r&&r>1e3&&(o="medium",r>3e3&&(o="low")),o)}function _(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function C(){return void 0!==D?D:(window.history&&history.pushState&&(D=!0,window.navigator.userAgent.match(/Android/i)&&(D=!!window.navigator.userAgent.match(/(Chrome|Firefox)/i))),D)}function E(){var e=document.createElement("video"),t={};try{e.canPlayType&&(t.mp4=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return t}function A(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function O(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}function T(e,t){var n,r=[],o=e.length;for(n=0;o>n&&t(e[n]);n++)r.push(e[n]);return r}function I(e){var t,o=$.getViewport().width,c=n(T(V,function(e){return e.width<=o})).name;return e||(t=r(V,function(e){return e.name===c}),c=a(V).and(i,t+1).and(s,function(e){return!e.isTweakpoint}).valueOf().name),c}function P(e){var t=o(e,{min:i(V).name,max:n(V).name}),r=I(!0);return a(V).and(f,function(e){return e.name!==t.min}).and(l,function(e){return e.name!==t.max}).and(u,"name").and(c,r).value()}function L(){function t(t){var r="visible",o="hidden",i={focus:r,focusin:r,pageshow:r,blur:o,focusout:o,pagehide:o};t=t||window.event,B=t.type in i?i[t.type]:this[n]?"hidden":"visible",e.emit("modules:detect:pagevisibility:"+B)}var n="hidden";n in document?document.addEventListener("visibilitychange",t):(n="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(n="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(n="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t}function R(){return"visible"===B}function M(){return"WebSocket"in window}function z(){return window.guardian.isModernBrowser}function N(){function e(e){return"none"===e.css("display")}if(!$.cachedAdblockInUse){var t=q(),n=e(t);return t.remove(),$.cachedAdblockInUse=n,n}return $.cachedAdblockInUse}function F(){var e=q(),t=e.css("-moz-binding");return t?null!==t.match("elemhidehit"):!1}function q(){var e=t.create('<div class="ad_unit" style="position: absolute; left: -9999px; height: 10px">&nbsp;</div>');return e.appendTo(document.body),e}function H(){return document.referrer||""}var D,U,$,B=document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState||"visible",V=[{name:"mobile",isTweakpoint:!1,width:0},{name:"mobileLandscape",isTweakpoint:!0,width:480},{name:"phablet",isTweakpoint:!0,width:660},{name:"tablet",isTweakpoint:!1,width:740},{name:"desktop",isTweakpoint:!1,width:980},{name:"leftCol",isTweakpoint:!0,width:1140},{name:"wide",isTweakpoint:!1,width:1300}];return U=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\bOPR\/(\d+)/),null!==e)?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{browser:n[0],version:n[1]})}(),$={hasCrossedBreakpoint:d,getConnectionSpeed:j,getVideoFormatSupport:E,hasTouchScreen:_,hasPushStateSupport:C,getOrientation:A,getBreakpoint:I,getViewport:O,getUserAgent:U,isIOS:m,isAndroid:g,isFireFoxOSApp:v,isFacebookApp:y,isTwitterApp:b,isFacebookReferral:x,isTwitterReferral:w,isGuardianReferral:k,socialContext:S,isBreakpoint:P,isReload:h,initPageVisibility:L,pageVisible:R,hasWebSocket:M,getPageSpeed:p,breakpoints:V,isModernBrowser:z,adblockInUse:N,getFirefoxAdblockPlusInstalled:F,getReferrer:H}}),define("lodash/arrays/zipObject",["../objects/isArray"],function(e){function t(t,n){var r=-1,o=t?t.length:0,i={};for(n||!o||e(t[0])||(n=[]);++r<o;){var s=t[r];n?i[s]=n[r]:s&&(i[s[0]]=s[1])}return i}return t}),define("lodash/arrays/compact",[],function(){function e(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var o=e[t];o&&r.push(o)}return r}return e}),define("lodash/objects/pairs",["./keys"],function(e){function t(t){for(var n=-1,r=e(t),o=r.length,i=Array(o);++n<o;){var s=r[n];i[n]=[s,t[s]]}return i}return t}),define("common/utils/url",["common/utils/detect","common/utils/mediator","lodash/objects/isArray","lodash/arrays/zipObject","lodash/collections/map","lodash/arrays/compact","common/utils/chain","lodash/objects/pairs"],function(e,t,n,r,o,i,s,a){var c=e.hasPushStateSupport(),u={getUrlVars:function(e){var t=e||{};return s((t.query||u.getCurrentQueryString()).split("&")).and(i).and(o,function(e){return e.indexOf("=")>-1?e.split("="):[e,!0]}).and(r).valueOf()},getCurrentQueryString:function(){return window.location.search.replace(/^\?/,"")},pushQueryString:function(e){e.querystring&&c&&u.getCurrentQueryString()!==e.querystring&&history.pushState(e.state||{},e.title||window.title,e.querystring+window.location.hash)},constructQuery:function(e){return s(e).and(a).and(o,function(e){var t=e[1];return n(t)&&(t=t.join(",")),[e[0],"=",t].join("")}).join("&").value()},getPath:function(e){var t=document.createElement("a");return t.href=e,t.pathname},pushUrl:function(e,t,n,r){c&&window.history[r?"replaceState":"pushState"](e,t,n)},back:function(){c&&window.history.back()}};return t.on("modules:url:pushquerystring",u.pushQueryString),{getUrlVars:u.getUrlVars,getPath:u.getPath,pushUrl:u.pushUrl,constructQuery:u.constructQuery,back:u.back,hasHistorySupport:c}}),define("lodash/objects/assign",["../internals/createIterator","../internals/defaultsIteratorOptions"],function(e,t){var n=e(t,{top:t.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"});return n}),define("lodash/collections/filter",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,n){function r(r,o,i){var s=[];if(o=t(o,i,3),n(r))for(var a=-1,c=r.length;++a<c;){var u=r[a];o(u,a,r)&&s.push(u)}else e(r,function(e,t,n){o(e,t,n)&&s.push(e)});return s}return r}),define("common/utils/config",["common/utils/pad","common/utils/url","lodash/objects/assign","lodash/collections/contains","lodash/collections/map","lodash/collections/filter","common/utils/chain"],function(e,t,n,r,o,i,s){var a=guardian.config,c=t.getUrlVars()["ad-unit"];return c&&(a.page.adUnit=["/",a.page.dfpAccountId,"/",c].join("")),a.ophan={pageViewId:(new Date).getTime().toString(36)+"xxxxxxxxxxxx".replace(/x/g,function(){return Math.floor(36*Math.random()).toString(36)})},n({hasTone:function(e){return(this.page.tones||"").indexOf(e)>-1},hasSeries:function(e){return(this.page.series||"").indexOf(e)>-1},referencesOfType:function(e){return s(this.page.references||[]).and(i,function(t){return"undefined"!=typeof t[e]}).and(o,function(t){return t[e]}).valueOf()},referenceOfType:function(e){return this.referencesOfType(e)[0]},webPublicationDateAsUrlPart:function(){if(this.page.webPublicationDate){var t=new Date(this.page.webPublicationDate);return t.getFullYear()+"/"+e(t.getMonth()+1,2)+"/"+e(t.getDate(),2)}},dateFromSlug:function(){var e=this.page.pageId.match(/\d{4}\/\w{3}\/\d{2}/);return e?e[0]:null},isMedia:r(["Video","Audio"],a.page.contentType)},a)}),define("lodash/collections/reduce",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,n){function r(r,o,i,s){var a=arguments.length<3;if(o=t(o,s,4),n(r)){var c=-1,u=r.length;for(a&&(i=r[++c]);++c<u;)i=o(i,r[c],c,r)}else e(r,function(e,t,n){i=a?(a=!1,e):o(i,e,t,n)});return i}return r}),define("lodash/objects/has",[],function(){function e(e,t){return e?n.call(e,t):!1}var t=Object.prototype,n=t.hasOwnProperty;return e}),define("common/utils/get-property",["lodash/collections/reduce","lodash/objects/has"],function(e,t){return function(n,r,o){var i=e(r.split("."),function(e,n){return t(e,n)?e[n]:void 0},n);return void 0!==i?i:void 0!==o?o:!1}}),define("common/utils/ajax",["raven","reqwest","common/utils/config","common/utils/get-property"],function(e,t,n,r){function o(r){var o;return r.url.match("^(https?:)?//")||(r.url=i+r.url,r.crossOrigin=!0),n&&"money"===n.page.section&&n.switches.imgix&&(r.data?r.data.inImgixTest=!0:r.data={inImgixTest:!0}),o=t(r),e.wrap({deep:!0},o.then),o}var i=r(n,"page.ajaxUrl","");return o.setHost=function(e){i=e},o}),define("common/utils/cookies",["lodash/collections/forEach"],function(e){function t(){return f().domain.replace(/^(www|m\.code|dev|m)\./,".")}function n(t){e(t,function(e){r(e)})}function r(e,n){f().cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",n||(f().cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT; domain="+t()+";")}function o(e,t,n){var r=new Date;n?r.setDate(r.getDate()+n):(r.setMonth(r.getMonth()+5),r.setDate(1)),f().cookie=e+"="+t+"; path=/; expires="+r.toUTCString()+";"+i()}function i(){var e=t();return"localhost"===e?"":" domain="+e+";"}function s(e,t,n){if(n){var r=new Date;r.setMinutes(r.getMinutes()+n),f().cookie=e+"="+t+"; path=/; expires="+r.toUTCString()+";"+i()}else o(e,t)}function a(e,t){f().cookie=e+"="+t+"; path=/;"+i()}function c(t){var n=[],r=t+"=",o=f().cookie.split(";");return e(o,function(e){for(;" "===e.charAt(0);)e=e.substring(1,e.length);0===e.indexOf(r)&&n.push(e.substring(r.length,e.length))}),n}function u(e){var t=c(e);return t.length>0?t[0]:null}function l(e){d=e}function f(){return d||document}var d;return{cleanUp:n,add:o,addSessionCookie:a,addForMinutes:s,remove:r,get:u,test:{setDocument:l}}}),define("common/utils/report-error",["raven"],function(e){return function(t,n,r){if(void 0===r&&(r=!0),e.captureException(t,{tags:n}),r)throw t.reported=!0,t}}),define("common/utils/robust",["common/utils/report-error","lodash/collections/forEach","lodash/collections/map"],function(e,t,n){function r(e){return n(e,function(e){return s.bind(this,e[0],e[1])})}var o=function(e){var t;try{e()}catch(n){t=n}return t},i=function(t,n,r){window.console&&window.console.warn&&window.console.warn("Caught error.",n.stack),r||(r=e),r(n,{module:t},!1)},s=function(e,t,n){var r=o(t);r&&i(e,r,n)},a=function(e){t(e,function(e){var t=e[0],n=e[1];s(t,n)})};return{catchErrorsAndLog:s,catchErrorsAndLogAll:a,makeBlocks:r}}),define("lodash/objects/isUndefined",[],function(){function e(e){return"undefined"==typeof e}return e}),define("common/utils/storage",["lodash/objects/isUndefined"],function(e){var t,n=window,r=function(e){this.type=e};return r.prototype.setWindow=function(e){n=e},r.prototype.isStorageAvailable=function(n){return(e(t)||n)&&(t=this.isAvailable()),t},r.prototype.isAvailable=function(e){var t="local-storage-module-test",r=e||"test";try{return n[this.type].setItem(t,r),n[this.type].removeItem(t),!0}catch(o){return!1}},r.prototype.set=function(e,t,r){if(this.isStorageAvailable()){if(!n[this.type])return;var o=r||{},i=JSON.stringify({value:t,expires:o.expires});return this.isAvailable(i)?n[this.type].setItem(e,i):!1}},r.prototype.get=function(e){if(this.isStorageAvailable()){var t,r;if(!n[this.type])return;if(t=n[this.type].getItem(e),null===t)return null;try{r=JSON.parse(t)}catch(o){return this.remove(e),null}return r.expires&&new Date>new Date(r.expires)?(this.remove(e),null):r.value}},r.prototype.getRaw=function(e){return this.isStorageAvailable()?n[this.type].getItem(e):void 0},r.prototype.remove=function(e){return this.isStorageAvailable()?n[this.type].removeItem(e):void 0},r.prototype.removeAll=function(){return this.isStorageAvailable()?n[this.type].clear():void 0},r.prototype.length=function(){return this.isStorageAvailable()?n[this.type].length:void 0},r.prototype.getKey=function(e){return this.isStorageAvailable()?n[this.type].key(e):void 0},r.prototype.clearByPrefix=function(e){if(this.isStorageAvailable()){var t,n;for(t=this.length()-1;t>-1;--t)n=this.getKey(t),0===n.indexOf(e)&&this.remove(n)}},{local:new r("localStorage"),session:new r("sessionStorage")}}),define("lodash/internals/htmlEscapes",[],function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e}),define("lodash/internals/escapeHtmlChar",["./htmlEscapes"],function(e){function t(t){return e[t]}return t}),define("lodash/internals/reUnescapedHtml",["./htmlEscapes","../objects/keys"],function(e,t){var n=RegExp("["+t(e).join("")+"]","g");return n}),define("lodash/utilities/escape",["../internals/escapeHtmlChar","../objects/keys","../internals/reUnescapedHtml"],function(e,t,n){function r(t){return null==t?"":String(t).replace(n,e)}return r}),define("lodash/internals/escapeStringChar",[],function(){function e(e){return"\\"+t[e]}var t={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};return e}),define("lodash/internals/reInterpolate",[],function(){var e=/<%=([\s\S]+?)%>/g;return e}),define("lodash/utilities/templateSettings",["./escape","../internals/reInterpolate"],function(e,t){var n={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:t,variable:"",imports:{_:{escape:e}}};return n}),define("lodash/objects/values",["./keys"],function(e){function t(t){for(var n=-1,r=e(t),o=r.length,i=Array(o);++n<o;)i[n]=t[r[n]];return i}return t}),define("lodash/utilities/template",["../objects/defaults","./escape","../internals/escapeStringChar","../objects/keys","../internals/reInterpolate","./templateSettings","../objects/values"],function(e,t,n,r,o,i,s){function a(t,a,m){var g=i.imports._.templateSettings||i;t=String(t||""),m=e({},m,g);var v,y=e({},m.imports,g.imports),b=r(y),w=s(y),x=0,k=m.interpolate||p,S="__p += '",j=RegExp((m.escape||p).source+"|"+k.source+"|"+(k===o?d:p).source+"|"+(m.evaluate||p).source+"|$","g");t.replace(j,function(e,r,o,i,s,a){return o||(o=i),S+=t.slice(x,a).replace(h,n),r&&(S+="' +\n__e("+r+") +\n'"),s&&(v=!0,S+="';\n"+s+";\n__p += '"),o&&(S+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),x=a+e.length,e}),S+="';\n";var _=m.variable,C=_;C||(_="obj",S="with ("+_+") {\n"+S+"\n}\n"),S=(v?S.replace(u,""):S).replace(l,"$1").replace(f,"$1;"),S="function("+_+") {\n"+(C?"":_+" || ("+_+" = {});\n")+"var __t, __p = '', __e = _.escape"+(v?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+S+"return __p\n}";try{var E=Function(b,"return "+S).apply(c,w)}catch(A){throw A.source=S,A}return a?E(a):(E.source=S,E)}var c,u=/\b__p \+= '';/g,l=/\b(__p \+=) '' \+/g,f=/(__e\(.*?\)|\b__t\)) \+\n'';/g,d=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,p=/($^)/,h=/['\n\r\t\u2028\u2029\\]/g;return a}),define("common/utils/template",["lodash/utilities/template"],function(e){return e}),define("common/utils/fastdom-errors",["fastdom","common/utils/report-error"],function(e,t){e.onError=function(e){window.console&&window.console.warn&&window.console.warn("Caught FastDom error.",e.stack),t(e,{feature:"fastdom"},!1)}}),define("common/modules/analytics/beacon",["common/utils/config","common/utils/ajax","lodash/collections/map","lodash/objects/isArray"],function(e,t,n,r){function o(e){return n(r(e)?e:[e],function(e){return"c="+e}).join("&")}function i(t){var n;return s?(n=e.page.beaconUrl+"/accept-beacon?"+o(t),navigator.sendBeacon(n,"")):void 0}var s=!!navigator.sendBeacon;return{fire:function(t){var n=new Image;return n.src=e.page.beaconUrl+t,n},postJson:function(n,r,o){var i=(e.page.beaconUrl||"").replace(/^\/\//,window.location.protocol+"//")+n;s&&!o?window.addEventListener("unload",function(){navigator.sendBeacon(i,r)},!1):t({url:i,type:"json",method:"post",contentType:"application/json",data:r,crossOrigin:!0})},counts:function(e){if(s)return i(e);var t=o(e);return this.fire("/counts.gif?"+t)},beaconCounts:i}}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("bean",n):t[e]=n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,r=window,o=t[e],i=/[^\.]*(?=\..*)\.|.*/,s=/\..*/,a="addEventListener",c="removeEventListener",u=document||{},l=u.documentElement||{},f=l[a],d=f?a:"attachEvent",p={},h=Array.prototype.slice,m=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},v=function(e){return"function"==typeof e},y="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",b="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",w=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},m(y+(f?b:""))),x=function(){var e="compareDocumentPosition"in l?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in l?function(e,t){return t=9===t.nodeType||t===window?l:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),k=function(){var e=m("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(m("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(m("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),o=e.concat(m("char charCode key keyCode keyIdentifier keyLocation location")),i=e.concat(m("data")),s=e.concat(m("touches targetTouches changedTouches scale rotation")),a=e.concat(m("data origin source")),c=e.concat(m("state")),f=/over|out/,d=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,o}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+u.body.scrollLeft+l.scrollLeft,n.clientY=e.clientY+u.body.scrollTop+l.scrollTop),f.test(r)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==r?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return i}},{reg:/^touch|^gesture/i,fix:function(){return s}},{reg:/^message$/i,fix:function(){return a}},{reg:/^popstate$/i,fix:function(){return c}},{reg:/.*/,fix:function(){return e}}],p={},h=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||r).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var o,i,s,a,c,u=e.type,l=e.target||e.srcElement;if(this.target=l&&3===l.nodeType?l.parentNode:l,n){if(c=p[u],!c)for(o=0,i=d.length;i>o;o++)if(d[o].reg.test(u)){p[u]=c=d[o].fix;break}for(a=c(e,this,u),o=a.length;o--;)!((s=a[o])in this)&&s in e&&(this[s]=e[s])}}};return h.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},h.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},h.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},h.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},h.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},h.prototype.clone=function(e){var t=new h(this,this.element,this.isNative);return t.currentTarget=e,t},h}(),S=function(e,t){return f||t||e!==u&&e!==r?e:l},j=function(){var e=function(e,t,n,r){var o=function(n,o){return t.apply(e,r?h.call(o,n?0:1).concat(r):o)},i=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},s=n?function(e){var t=i(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),o(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(i(e))),o(e,arguments)};return s.__beanDel=t.__beanDel,s},t=function(t,n,r,o,i,s,a){var c,u=x[n];"unload"==n&&(r=O(T,t,n,r,o)),u&&(u.condition&&(r=e(t,r,u.condition,s)),n=u.base||n),this.isNative=c=w[n]&&!!t[d],this.customType=!f&&!c&&n,this.element=t,this.type=n,this.original=o,this.namespaces=i,this.eventType=f||c?n:"propertychange",this.target=S(t,c),this[d]=!!this.target[d],this.root=a,this.handler=e(t,r,null,s)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),_=function(){var e={},t=function(n,r,o,i,s,a){var c=s?"r":"$";if(r&&"*"!=r){var u,l=0,f=e[c+r],d="*"==n;if(!f)return;for(u=f.length;u>l;l++)if((d||f[l].matches(n,o,i))&&!a(f[l],f,l,r))return}else for(var p in e)p.charAt(0)==c&&t(n,p.substr(1),o,i,s,a)},n=function(t,n,r,o){var i,s=e[(o?"r":"$")+n];if(s)for(i=s.length;i--;)if(!s[i].root&&s[i].matches(t,r,null))return!0;return!1},r=function(e,n,r,o){var i=[];return t(e,n,r,null,o,function(e){return i.push(e)}),i},o=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},i=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},s=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:o,del:i,entries:s}}(),C=function(e){n=arguments.length?e:u.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},E=function(e,t){if(f||!t||!e||e.propertyName=="_on"+t){var n=_.get(this,t||e.type,null,!1),r=n.length,o=0;for(e=new k(e,this,!0),t&&(e.type=t);r>o&&!e.isImmediatePropagationStopped();o++)n[o].removed||n[o].handler.call(this,e)}},A=f?function(e,t,n){e[n?a:c](t,E,!1)}:function(e,t,n,r){var o;n?(_.put(o=new j(e,r||t,function(t){E.call(e,t,r)},E,null,null,!0)),r&&null==e["_on"+r]&&(e["_on"+r]=0),o.target.attachEvent("on"+o.eventType,o.handler)):(o=_.get(e,r||t,E,!0)[0],o&&(o.target.detachEvent("on"+o.eventType,o.handler),_.del(o)))},O=function(e,t,n,r,o){return function(){r.apply(this,arguments),e(t,n,o)}},T=function(e,t,n,r){var o,i,a=t&&t.replace(s,""),c=_.get(e,a,null,!1),u={};for(o=0,i=c.length;i>o;o++)n&&c[o].original!==n||!c[o].inNamespaces(r)||(_.del(c[o]),!u[c[o].eventType]&&c[o][d]&&(u[c[o].eventType]={t:c[o].eventType,c:c[o].type}));for(o in u)_.has(e,u[o].t,null,!1)||A(e,u[o].t,!1,u[o].c)},I=function(e,t){var r=function(t,r){for(var o,i=g(e)?n(e,r):e;t&&t!==r;t=t.parentNode)for(o=i.length;o--;)if(i[o]===t)return t},o=function(e){var n=r(e.target,this);n&&t.apply(n,arguments)};return o.__beanDel={ft:r,selector:e},o},P=f?function(e,t,n){var o=u.createEvent(e?"HTMLEvents":"UIEvents");o[e?"initEvent":"initUIEvent"](t,!0,!0,r,1),n.dispatchEvent(o)}:function(e,t,n){n=S(n,e),e?n.fireEvent("on"+t,u.createEventObject()):n["_on"+t]++},L=function(e,t,n){var r,o,a,c,u=g(t);if(u&&t.indexOf(" ")>0){for(t=m(t),c=t.length;c--;)L(e,t[c],n);return e}if(o=u&&t.replace(s,""),o&&x[o]&&(o=x[o].base),!t||u)(a=u&&t.replace(i,""))&&(a=m(a,".")),T(e,o,n,a);else if(v(t))T(e,null,t);else for(r in t)t.hasOwnProperty(r)&&L(e,r,t[r]);return e},R=function(e,t,r,o){var a,c,u,l,f,g,y;{if(void 0!==r||"object"!=typeof t){for(v(r)?(f=h.call(arguments,3),o=a=r):(a=o,f=h.call(arguments,4),o=I(r,a,n)),u=m(t),this===p&&(o=O(L,e,t,o,a)),l=u.length;l--;)y=_.put(g=new j(e,u[l].replace(s,""),o,a,m(u[l].replace(i,""),"."),f,!1)),g[d]&&y&&A(e,g.eventType,!0,g.customType);return e}for(c in t)t.hasOwnProperty(c)&&R.call(this,e,c,t[c])}},M=function(e,t,n,r){return R.apply(null,g(n)?[e,n,t,r].concat(arguments.length>3?h.call(arguments,5):[]):h.call(arguments))},z=function(){return R.apply(p,arguments)},N=function(e,t,n){var r,o,a,c,u,l=m(t);for(r=l.length;r--;)if(t=l[r].replace(s,""),(c=l[r].replace(i,""))&&(c=m(c,".")),c||n||!e[d])for(u=_.get(e,t,null,!1),n=[!1].concat(n),o=0,a=u.length;a>o;o++)u[o].inNamespaces(c)&&u[o].handler.apply(e,n);else P(w[t],t,e);
return e},F=function(e,t,n){for(var r,o,i=_.get(t,n,null,!1),s=i.length,a=0;s>a;a++)i[a].original&&(r=[e,i[a].type],(o=i[a].handler.__beanDel)&&r.push(o.selector),r.push(i[a].original),R.apply(null,r));return e},q={on:R,add:M,one:z,off:L,remove:L,clone:F,fire:N,Event:k,setSelectorEngine:C,noConflict:function(){return t[e]=o,this}};if(r.attachEvent){var H=function(){var e,t=_.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&L(t[e].element,t[e].type);r.detachEvent("onunload",H),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",H)}return C(),q}),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define("Promise",e):"undefined"!=typeof window?window.Promise=e():"undefined"!=typeof global?global.Promise=e():"undefined"!=typeof self&&(self.Promise=e())}(function(){var e;return function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var r=e("../lib/decorators/unhandledRejection"),o=r(e("../lib/Promise"));t.exports="undefined"!=typeof global?global.Promise=o:"undefined"!=typeof self?self.Promise=o:o},{"../lib/Promise":2,"../lib/decorators/unhandledRejection":4}],2:[function(t,n,r){!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),r=e("./env").asap;return t({scheduler:new n(r)})})}("function"==typeof e&&e.amd?e:function(e){n.exports=e(t)})},{"./Scheduler":3,"./env":5,"./makePromise":7}],3:[function(t,n,r){!function(e){"use strict";e(function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}("function"==typeof e&&e.amd?e:function(e){n.exports=e()})},{}],4:[function(t,n,r){!function(e){"use strict";e(function(e){function t(e){throw e}function n(){}var r=e("../env").setTimer,o=e("../format");return function(e){function i(e){e.handled||(p.push(e),l("Potentially unhandled rejection ["+e.id+"] "+o.formatError(e.value)))}function s(e){var t=p.indexOf(e);t>=0&&(p.splice(t,1),f("Handled previous rejection ["+e.id+"] "+o.formatObject(e.value)))}function a(e,t){d.push(e,t),null===h&&(h=r(c,0))}function c(){for(h=null;d.length>0;)d.shift()(d.shift())}var u,l=n,f=n;"undefined"!=typeof console&&(u=console,l="undefined"!=typeof u.error?function(e){u.error(e)}:function(e){u.log(e)},f="undefined"!=typeof u.info?function(e){u.info(e)}:function(e){u.log(e)}),e.onPotentiallyUnhandledRejection=function(e){a(i,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){a(s,e)},e.onFatalRejection=function(e){a(t,e.value)};var d=[],p=[],h=null;return e}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e(t)})},{"../env":5,"../format":6}],5:[function(t,n,r){!function(e){"use strict";e(function(e){function t(){return"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)}function n(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function r(e){function t(){var e=n;n=void 0,e()}var n,r=document.createTextNode(""),o=new e(t);o.observe(r,{characterData:!0});var i=0;return function(e){n=e,r.data=i^=1}}var o,i="undefined"!=typeof setTimeout&&setTimeout,s=function(e,t){return setTimeout(e,t)},a=function(e){return clearTimeout(e)},c=function(e){return i(e,0)};if(t())c=function(e){return process.nextTick(e)};else if(o=n())c=r(o);else if(!i){var u=e,l=u("vertx");s=function(e,t){return l.setTimer(t,e)},a=l.cancelTimer,c=l.runOnLoop||l.runOnContext}return{setTimer:s,clearTimer:a,asap:c}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e(t)})},{}],6:[function(t,n,r){!function(e){"use strict";e(function(){function e(e){var n="object"==typeof e&&null!==e&&e.stack?e.stack:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"}function t(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(n){return t}}return{formatError:e,formatObject:t,tryStringify:n}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e()})},{}],7:[function(t,n,r){!function(e){"use strict";e(function(){return function(e){function t(e,t){this._handler=e===b?t:n(e)}function n(e){function t(e){o.resolve(e)}function n(e){o.reject(e)}function r(e){o.notify(e)}var o=new x;try{e(t,n,r)}catch(i){n(i)}return o}function r(e){return R(e)?e:new t(b,new k(g(e)))}function o(e){return new t(b,new k(new _(e)))}function i(){return Z}function s(){return new t(b,new x)}function a(e,t){var n=new x(e.receiver,e.join().context);return new t(b,n)}function c(e){return l(B,null,e)}function u(e,t){return l(q,e,t)}function l(e,n,r){function o(t,o,s){s.resolved||f(r,i,t,e(n,o,t),s)}function i(e,t,n){l[e]=t,0===--u&&n.become(new j(l))}for(var s,a="function"==typeof n?o:i,c=new x,u=r.length>>>0,l=new Array(u),d=0;d<r.length&&!c.resolved;++d)s=r[d],void 0!==s||d in r?f(r,a,d,s,c):--u;return 0===u&&c.become(new j(l)),new t(b,c)}function f(e,t,n,r,o){if(M(r)){var i=v(r),s=i.state();0===s?i.fold(t,n,void 0,o):s>0?t(n,i.value,o):(o.become(i),d(e,n+1,i))}else t(n,r,o)}function d(e,t,n){for(var r=t;r<e.length;++r)p(g(e[r]),n)}function p(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):0>n&&e._unreport()}}function h(e){return"object"!=typeof e||null===e?o(new TypeError("non-iterable passed to race()")):0===e.length?i():1===e.length?r(e[0]):m(e)}function m(e){var n,r,o,i=new x;for(n=0;n<e.length;++n)if(r=e[n],void 0!==r||n in e){if(o=g(r),0!==o.state()){i.become(o),d(e,n+1,o);break}o.visit(i,i.resolve,i.reject)}return new t(b,i)}function g(e){return R(e)?e._handler.join():M(e)?y(e):new j(e)}function v(e){return R(e)?e._handler.join():y(e)}function y(e){try{var t=e.then;return"function"==typeof t?new S(t,e):new j(e)}catch(n){return new _(n)}}function b(){}function w(){}function x(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function k(e){this.handler=e}function S(e,t){x.call(this),K.enqueue(new I(e,t,this))}function j(e){t.createContext(this),this.value=e}function _(e){t.createContext(this),this.id=++G,this.value=e,this.handled=!1,this.reported=!1,this._report()}function C(e,t){this.rejection=e,this.context=t}function E(e){this.rejection=e}function A(){return new _(new TypeError("Promise cycle"))}function O(e,t){this.continuation=e,this.handler=t}function T(e,t){this.handler=t,this.value=e}function I(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function P(e,t,n,r,o){try{e.call(t,n,r,o)}catch(i){r(i)}}function L(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=Y,this.receiver=this}function R(e){return e instanceof t}function M(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function z(e,n,r,o){return"function"!=typeof e?o.become(n):(t.enterContext(n),H(e,n.value,r,o),void t.exitContext())}function N(e,n,r,o,i){return"function"!=typeof e?i.become(r):(t.enterContext(r),D(e,n,r.value,o,i),void t.exitContext())}function F(e,n,r,o,i){return"function"!=typeof e?i.notify(n):(t.enterContext(r),U(e,n,o,i),void t.exitContext())}function q(e,t,n){try{return e(t,n)}catch(r){return o(r)}}function H(e,t,n,r){try{r.become(g(e.call(n,t)))}catch(o){r.become(new _(o))}}function D(e,t,n,r,o){try{e.call(r,t,n,o)}catch(i){o.become(new _(i))}}function U(e,t,n,r){try{r.notify(e.call(n,t))}catch(o){r.notify(o)}}function $(e,t){t.prototype=Q(e.prototype),t.prototype.constructor=t}function B(e,t){return t}function V(){}function W(){return"undefined"!=typeof process&&null!==process&&"function"==typeof process.emit?function(e,t){return"unhandledRejection"===e?process.emit(e,t.value,t):process.emit(e,t)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(e,t,n){var r=!1;try{var o=new n("unhandledRejection");r=o instanceof n}catch(i){}return r?function(e,r){var o=new n(e,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(o)}:e}(V,self,CustomEvent):V}var K=e.scheduler,X=W(),Q=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=r,t.reject=o,t.never=i,t._defer=s,t._handler=g,t.prototype.then=function(e,t,n){var r=this._handler,o=r.join().state();if("function"!=typeof e&&o>0||"function"!=typeof t&&0>o)return new this.constructor(b,r);var i=this._beget(),s=i._handler;return r.chain(s,r.receiver,e,t,n),i},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){return a(this._handler,this.constructor)},t.all=c,t.race=h,t._traverse=u,t._visitRemaining=d,b.prototype.when=b.prototype.become=b.prototype.notify=b.prototype.fail=b.prototype._unreport=b.prototype._report=V,b.prototype._state=0,b.prototype.state=function(){return this._state},b.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},b.prototype.chain=function(e,t,n,r,o){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:o})},b.prototype.visit=function(e,t,n,r){this.chain(Y,e,t,n,r)},b.prototype.fold=function(e,t,n,r){this.when(new L(e,t,n,r))},$(b,w),w.prototype.become=function(e){e.fail()};var Y=new w;$(b,x),x.prototype._state=0,x.prototype.resolve=function(e){this.become(g(e))},x.prototype.reject=function(e){this.resolved||this.become(new _(e))},x.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=A();return e},x.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},x.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&K.enqueue(this),void 0!==this.context&&e._report(this.context))},x.prototype.when=function(e){this.resolved?K.enqueue(new O(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},x.prototype.notify=function(e){this.resolved||K.enqueue(new T(e,this))},x.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},x.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},x.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},$(b,k),k.prototype.when=function(e){K.enqueue(new O(e,this))},k.prototype._report=function(e){this.join()._report(e)},k.prototype._unreport=function(){this.join()._unreport()},$(x,S),$(b,j),j.prototype._state=1,j.prototype.fold=function(e,t,n,r){N(e,t,this,n,r)},j.prototype.when=function(e){z(e.fulfilled,this,e.receiver,e.resolver)};var G=0;$(b,_),_.prototype._state=-1,_.prototype.fold=function(e,t,n,r){r.become(this)},_.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),z(e.rejected,this,e.receiver,e.resolver)},_.prototype._report=function(e){K.afterQueue(new C(this,e))},_.prototype._unreport=function(){this.handled||(this.handled=!0,K.afterQueue(new E(this)))},_.prototype.fail=function(e){this.reported=!0,X("unhandledRejection",this),t.onFatalRejection(this,void 0===e?this.context:e)},C.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,X("unhandledRejection",this.rejection)||t.onPotentiallyUnhandledRejection(this.rejection,this.context))},E.prototype.run=function(){this.rejection.reported&&(X("rejectionHandled",this.rejection)||t.onPotentiallyUnhandledRejectionHandled(this.rejection))},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=V;var J=new b,Z=new t(b,J);return O.prototype.run=function(){this.handler.join().when(this.continuation)},T.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],F(t.progress,this.value,this.handler,t.receiver,t.resolver)},I.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;P(this._then,this.thenable,e,t,n)},L.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},L.prototype.rejected=function(e){this.to.reject(e)},L.prototype.progress=function(e){this.to.notify(e)},t}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e()})},{}]},{},[1])(1)}),define("lodash/collections/every",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,n){function r(r,o,i){var s=!0;if(o=t(o,i,3),n(r))for(var a=-1,c=r.length;++a<c&&(s=!!o(r[a],a,r)););else e(r,function(e,t,n){return s=!!o(e,t,n)});return s}return r}),define("lodash/objects/forOwn",["../internals/createIterator","../internals/eachIteratorOptions","../internals/forOwnIteratorOptions"],function(e,t,n){var r=e(t,n);return r}),define("common/modules/article/spacefinder",["common/utils/$","fastdom","qwery","bonzo","bean","Promise","common/utils/config","common/utils/mediator","lodash/collections/filter","lodash/collections/map","lodash/collections/pluck","lodash/collections/every","common/utils/chain","lodash/objects/forOwn"],function(e,t,n,r,o,i,s,a,c,u,l,f,d,p){function h(e){return{top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e}}function m(e,n){t.write(function(){r(e).addClass("spacefinder--error").attr("data-spacefinder-msg",n)})}function g(e,t,r,o){var i,s=d(e);return s=s.and(c,function(e){var n=e.top>=t.minAbove,i=e.top+t.minBelow<=r,s=n&&i;return o&&!s&&(n||m(e.element,"too close to top of body"),i||m(e.element,"too close to bottom of body")),s}),t.clearContentMeta&&(i=h(n(".js-content-meta")[0]),s=s.and(c,function(e){var n=e.top>i.bottom+t.clearContentMeta;return o&&!n&&m(e.element,"too close to content meta"),n})),d(t.selectors).and(p,function(e,t){var r=d(n(x+t)).and(u,h).value();s=s.and(c,function(n){var i=j(n,r,e);return o&&!i&&m(n.element,"too close to selector ("+t+")"),i})}),s.valueOf()}function v(){var t=c(e(".js-article__body img"),function(e){return!e.complete});return i.all(u(t,function(e){return new i(function(t){window.setTimeout(t,5e3),o.on(e,"load",t)})}))}function y(){return new i(function(e){window.setTimeout(e,5e3),function t(){var r=n(".js-article__body .element-rich-link--not-upgraded");return r.length?void a.once("rich-link:loaded",t):e()}()})}function b(){return s.switches.viewability?i.all([v(),y()]):i.resolve()}function w(e,o){var s,a,c;return e=e||k,b().then(function(){return new i(function(i){t.read(function(){s=n(x)[0].offsetHeight,a=d(n(x+" > p")).and(u,h),o&&t.write(function(){r(a.and(l,"element").valueOf()).attr("data-spacefinder-msg","").removeClass("spacefinder--valid").removeClass("spacefinder--error")}),c=g(a.value(),e,s,o),o&&t.write(function(){r(l(c,"element")).addClass("spacefinder--valid")}),i(c.length?c[0].element:void 0)})})})}var x=".js-article__body",k={minAbove:250,minBelow:300,clearContentMeta:50,selectors:{" > h2":{minAbove:0,minBelow:250}," > *:not(p):not(h2)":{minAbove:25,minBelow:250}}},S=function(e,t,n){var r=e.top-t.bottom>=n.minAbove,o=t.top-e.top>=n.minBelow;return r||o},j=function(e,t,n){return d(t).and(f,function(t){return S(e,t,n)}).valueOf()};return{getParaWithSpace:w,_testElem:S,_testElems:j}}),define("common/modules/user-prefs",["common/utils/storage","lodash/objects/defaults"],function(e,t){function n(e,n,r){var o=t(r||{},{type:"local"});h[o.type].set(p+e,n)}function r(e,n){var r=t(n||{},{type:"local"});return h[r.type].get(p+e)}function o(e,n){var r=t(n||{},{type:"local"});h[r.type].remove(p+e)}function i(e,n){var r=t(n||{},{type:"local"});h[r.type].set(p+"switch."+e,!0)}function s(e,n){var r=t(n||{},{type:"local"});h[r.type].set(p+"switch."+e,!1)}function a(e,n){var r=t(n||{},{type:"local"});h[r.type].remove(p+"switch."+e)}function c(e,n){var r=t(n||{},{type:"local"});return h[r.type].get(p+"switch."+e)===!0}function u(e,n){var r=t(n||{},{type:"local"});return h[r.type].get(p+"switch."+e)===!1}function l(e){return!isNaN(e)}function f(e){return"true"===e||"false"===e}function d(e){var t,r,o,a,c,u,d=e.hash.substr(1).split("&");for(c=0,u=d.length;u>c;++c)if(t=d[c].match(/^gu\.prefs\.(.*)=(.*)$/))switch(r=t[1],o=t[2],r){case"switchOn":i(o);break;case"switchOff":s(o);break;default:a=l(o)?+o:f(o)?"true"===String(o).toLowerCase():o,n(r,a)}}var p="gu.prefs.",h={local:e.local,session:e.session};return d(window.location),{set:n,get:r,remove:o,switchOn:i,switchOff:s,removeSwitch:a,isOn:c,isOff:u,setPrefs:d}}),define("common/utils/fastdom-idle",["fastdom","common/modules/user-prefs"],function(e,t){function n(n,r){t.get("use-idle-callback")&&"requestIdleCallback"in window?window.requestIdleCallback(function(){e[n](r)}):e[n](r)}return{read:function(e){n("read",e)},write:function(e){n("write",e)}}}),define("text!common/views/commercial/ad-slot.html",[],function(){return'<div id="dfp-ad--<%=name%>"\n    class="js-ad-slot ad-slot ad-slot--dfp ad-slot--<%=normalisedName%><%=types%>"\n    data-link-name="ad slot <%=name%>"\n    data-test-id="ad-slot-<%=name%>"\n    data-name="<%=name%>"\n    <%=sizeMappings%>></div>\n'}),define("common/modules/commercial/create-ad-slot",["common/utils/$","common/utils/config","common/utils/detect","common/utils/template","text!common/views/commercial/ad-slot.html","lodash/collections/map","lodash/objects/isArray","lodash/objects/pairs"],function(e,t,n,r,o,i,s,a){var c={right:{sizeMappings:{mobile:"1,1|300,250|300,600"+("US"===t.page.edition?"|300,1050":"")}},"right-sticky":{name:"right",sizeMappings:{mobile:"1,1|300,250|300,251|300,600"+("US"===t.page.edition?"|300,1050":"")}},"right-small":{name:"right",sizeMappings:{mobile:"1,1|300,250"}},im:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|88,85"}},inline1:{sizeMappings:{mobile:"1,1|300,250","mobile-landscape":"1,1|300,250",tablet:"1,1|300,250"}},inline:{sizeMappings:{mobile:"1,1|300,250","mobile-landscape":"1,1|300,250",tablet:"1,1|300,250"}},mostpop:{sizeMappings:{mobile:"1,1|300,250","mobile-landscape":"1,1|300,250",tablet:"1,1|300,250"}},"merchandising-high":{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|88,87"}},spbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},adbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},fobadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},comments:{sizeMappings:{mobile:"1,1|300,250"}}};return function(n,u,l,f,d){var p,h,m,g,v=d?d:n;h=v.match(/^inline/)&&"inline1"!==v?c.inline:c[v],t.page.hasPageSkin&&"merchandising-high"===v&&(h.sizeMappings.wide="1,1"),m={label:void 0!==h.label?h.label:!0,refresh:void 0!==h.refresh?h.refresh:!0},g=e.create(r(o,{name:h.name||n,normalisedName:(h.name||n).replace(/((?:ad|fo|sp)badge).*/,"$1"),types:u?i(s(u)?u:[u],function(e){return" ad-slot--"+e}).join(""):"",sizeMappings:i(a(h.sizeMappings),function(e){return" data-"+e[0]+'="'+e[1]+'"'}).join("")}));for(p in m)m[p]===!1&&g.attr("data-"+p,"false");return d&&g.attr("data-slot-target",d),l&&g.attr("data-series",l),f&&g.attr("data-keywords",f),g[0]}}),define("common/utils/location",[],function(){return{getHash:function(){return window.location.hash}}}),define("common/utils/ajax-promise",["common/utils/ajax","raven","Promise"],function(e,t,n){return function(t){var r=new n(function(n,r){e(t).then(function(e){n(e)}).fail(function(e,t,n){var o=n&&n.statusText||"",i=n&&n.status||"",s="Error retrieving data ("+t+") (Status: "+i+") (StatusText: "+o+")",a=n?n:new Error(s);a.request=e,r(a)})});return r}}),define("common/utils/atob",[],function(){return window.atob?function(e){return window.atob(e)}:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(){try{document.createElement("$")}catch(e){return e}}();return function(n){if(n=n.replace(/[=]+$/,""),n.length%4===1)throw t;for(var r,o,i=0,s=0,a="";o=n.charAt(s++);~o&&(r=i%4?64*r+o:o,i++%4)?a+=String.fromCharCode(255&r>>(-2*i&6)):0)o=e.indexOf(o);return a}}()}),define("common/modules/asyncCallMerger",[],function(){function e(e){function t(){s=arguments,i="complete";for(var e=0;e<o.length;e++)o[e].apply(null,s)}function n(n){"init"===i?(i="waiting",o.push(n),e(t)):"waiting"===i?o.push(n):n.apply(null,s)}function r(){o=[],i="init",s=null}var o,i,s;return r(),n.reset=r,n}return{mergeCalls:e}}),define("common/modules/identity/api",["common/utils/ajax","common/utils/atob","common/utils/config","common/utils/cookies","common/utils/mediator","common/utils/storage","common/modules/asyncCallMerger"],function(e,t,n,r,o,i,s){var a={},c=null;return a.cookieName="GU_U",a.signOutCookieName="GU_SO",a.fbCheckKey="gu.id.nextFbCheck",a.lastRefreshKey="identity.lastRefresh",a.idApiRoot=null,a.idUrl=null,a.init=function(){a.idApiRoot=n.page.idApiUrl,a.idUrl=n.page.idUrl,o.emit("module:identity:api:loaded")},a.reset=function(){a.getUserFromApi.reset(),c=null},a.getUserFromCookie=function(){if(null===c){var e=r.get(a.cookieName),t=e?JSON.parse(a.decodeBase64(e.split(".")[0])):null;t&&(c={id:t[0],primaryEmailAddress:t[1],displayName:t[2],accountCreatedDate:t[6],emailVerified:t[7],rawResponse:e})}return c},a.getCookie=function(){return r.get(a.cookieName)},a.isUserLoggedIn=function(){return null!==a.getUserFromCookie()},a.getUrl=function(){return a.idUrl},a.getUserFromApi=s.mergeCalls(function(t){a.isUserLoggedIn()?e({url:a.idApiRoot+"/user/me",type:"jsonp",crossOrigin:!0}).then(function(e){t("ok"===e.status?e.user:null)}):t(null)}),a.getUserFromApiWithRefreshedCookie=function(){var t="/user/me",n=e({url:a.idApiRoot+t,type:"jsonp",data:{refreshCookie:!0}});return n},a.getUserOrSignIn=function(e){if(a.isUserLoggedIn())return a.getUserFromCookie();e=encodeURIComponent(e||document.location.href);var t=a.getUrl()+"/signin?returnUrl="+e;a.redirectTo(t)},a.redirectTo=function(e){window.location.href=e},a.decodeBase64=function(e){return decodeURIComponent(escape(t(e.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"="))))},a.hasUserSignedOutInTheLast24Hours=function(){var e=r.get(a.signOutCookieName);return e?Math.round((new Date).getTime()/1e3)<parseInt(e,10)+86400:!1},a.shouldAutoSigninInUser=function(){var e=!!r.get(a.cookieName),t=!!i.local.get(a.fbCheckKey);return!e&&!t&&!this.hasUserSignedOutInTheLast24Hours()},a.setNextFbCheckTime=function(e){i.local.set(a.fbCheckKey,{},{expires:e})},a.emailSignup=function(t){var n="/useremails/"+a.getUserFromCookie().id+"/subscriptions",r={listId:t},o=e({url:a.idApiRoot+n,type:"jsonp",crossOrigin:!0,data:{body:JSON.stringify(r),method:"post"}});return o},a.sendValidationEmail=function(){var t="/user/send-validation-email",n=e({url:a.idApiRoot+t,type:"jsonp",crossOrigin:!0,data:{method:"post"}});return n},a.getSavedArticles=function(){var t="/syncedPrefs/me/savedArticles",n=e({url:a.idApiRoot+t,type:"jsonp",crossOrigin:!0});return n},a.saveToArticles=function(t){var r="/syncedPrefs/cors/me/savedArticles",o=e({url:a.idApiRoot+r,type:"json",crossOrigin:!0,method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),withCredentials:!0,headers:{"X-GU-ID-Client-Access-Token":"Bearer "+n.page.idApiJsClientToken}});return o},a}),define("common/modules/commercial/user-features",["common/utils/ajax-promise","common/utils/cookies","common/utils/config","common/utils/storage","common/modules/identity/api","lodash/utilities/noop"],function(e,t,n,r,o,i){function s(){o.isUserLoggedIn()&&u()&&v._requestNewData(),l()&&v._deleteOldData()}function a(){return void 0===n.commercial||void 0===n.commercial.showingAdfree?!1:n.commercial.showingAdfree}function c(){return o.isUserLoggedIn()&&"false"!==t.get(y.PAYING_MEMBER_COOKIE)}function u(){return!f()||p()}function l(){return!o.isUserLoggedIn()&&d()}function f(){return t.get(y.ADFREE_COOKIE)&&t.get(y.USER_FEATURES_EXPIRY_COOKIE)&&t.get(y.PAYING_MEMBER_COOKIE)}function d(){return t.get(y.ADFREE_COOKIE)||t.get(y.USER_FEATURES_EXPIRY_COOKIE)||t.get(y.PAYING_MEMBER_COOKIE)}function p(){var e=t.get(y.USER_FEATURES_EXPIRY_COOKIE),n=parseInt(e,10),r=(new Date).getTime();return r>=n}function h(){t.remove(y.ADFREE_COOKIE),t.remove(y.USER_FEATURES_EXPIRY_COOKIE),t.remove(y.PAYING_MEMBER_COOKIE)}function m(){e({url:n.page.userAttributesApiUrl+"/me/features",crossOrigin:!0,withCredentials:!0,error:function(){}}).then(g,i)}function g(e){var n=new Date;n.setDate(n.getDate()+1),t.add(y.ADFREE_COOKIE,e.adFree),t.add(y.USER_FEATURES_EXPIRY_COOKIE,n.getTime().toString()),t.add(y.PAYING_MEMBER_COOKIE,!e.adblockMessage)}var v,y;return v={refresh:s,isAdfree:a,isPayingMember:c,_requestNewData:m,_deleteOldData:h,_persistResponse:g},y={ADFREE_COOKIE:"gu_adfree_user",USER_FEATURES_EXPIRY_COOKIE:"gu_user_features_expiry",PAYING_MEMBER_COOKIE:"gu_paying_member"},v}),define("lodash/objects/mapValues",["../functions/createCallback","./forOwn"],function(e,t){function n(n,r,o){var i={};return r=e(r,o,3),t(n,function(e,t,n){i[t]=r(e,t,n)}),i}return n}),define("common/modules/commercial/commercial-feature-policies",["common/utils/location","common/utils/config","common/utils/detect","common/modules/commercial/user-features","common/modules/user-prefs","lodash/objects/mapValues"],function(e,t,n,r,o,i){function s(e){this.dfpAdvertising=e,this.topBannerAd=e,this.articleBodyAdverts=e,this.articleAsideAdverts=e,this.sliceAdverts=e,this.popularContentMPU=e,this.videoPreRolls=e,this.frontCommercialComponents=e,this.thirdPartyTags=e,this.badges=e}function a(){return i(c,function(e){return e()})}var c={};return c.defaultAds=function(){return new s(!0)},c.sensitiveContent=function(){return t.page.shouldHideAdverts||"childrens-books-site"===t.page.section?new s(!1):void 0},c.sslContent=function(){return t.page.isSSL&&"admin"!==t.page.section?new s(!1):void 0},c.noadsHash=function(){return e.getHash().match(/[#&]noads(&.*)?$/)?new s(!1):void 0},c.userPrefs=function(){return o.isOff("adverts")?new s(!1):void 0},c.adfreeExperience=function(){return r.isAdfree()?{topBannerAd:!1,articleBodyAdverts:!1,articleAsideAdverts:!1,sliceAdverts:!1,popularContentMPU:!1,videoPreRolls:!1}:void 0},c.membershipMessages=function(){return n.adblockInUse()||"mobile"===n.getBreakpoint()||"Article"!==t.page.contentType||r.isPayingMember()?void 0:{membershipMessages:!0}},c.identityPages=function(){return"Identity"===t.page.contentType||"identity"===t.page.section?{thirdPartyTags:!1}:void 0},c.nonArticlePages=function(){var e="Article"===t.page.contentType,n=t.page.isLiveBlog;return e||n?n?{articleBodyAdverts:!1}:void 0:{articleBodyAdverts:!1,articleAsideAdverts:!1}},c.nonFrontPages=function(){return t.page.isFront?void 0:{frontCommercialComponents:!1}},c.tonePolicy=function(){return t.hasTone("Match reports")?{articleAsideAdverts:!1}:void 0},c.switchboard=function(){var e={};return t.switches.videoAdverts||(e.videoPreRolls=!1),t.switches.standardAdverts||(e.articleBodyAdverts=!1,e.articleAsideAdverts=!1,e.sliceAdverts=!1),t.switches.commercialComponents||(e.frontCommercialComponents=!1),t.switches.sponsored||(e.badges=!1),e},{getPolicySwitches:a}}),define("common/modules/commercial/commercial-features",["common/modules/commercial/commercial-feature-policies","lodash/objects/forOwn"],function(e,t){function n(){var e=r();return e.reset=n,e}function r(){var n={},r=e.getPolicySwitches();return t(r,function(e){t(e,function(e,t){var r=n[t];r!==!1&&(n[t]=e)})}),n}return n()}),define("common/utils/$css",[],function(){return function(e,t){return window.document.defaultView&&window.document.defaultView.getComputedStyle?e.css(t):e[0].currentStyle[t]}}),define("common/utils/user-timing",[],function(){function e(e){t&&"mark"in t&&t.mark("gu."+e)}var t=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return{mark:e}}),define("common/utils/sha1",[],function(){var e={};return e.hash=function(t){t=decodeURIComponent(encodeURIComponent(t));var n=[1518500249,1859775393,2400959708,3395469782];t+=String.fromCharCode(128);for(var r=t.length/4+2,o=Math.ceil(r/16),i=new Array(o),s=0;o>s;s++){i[s]=new Array(16);for(var a=0;16>a;a++)i[s][a]=t.charCodeAt(64*s+4*a)<<24|t.charCodeAt(64*s+4*a+1)<<16|t.charCodeAt(64*s+4*a+2)<<8|t.charCodeAt(64*s+4*a+3)}i[o-1][14]=8*(t.length-1)/Math.pow(2,32),i[o-1][14]=Math.floor(i[o-1][14]),i[o-1][15]=8*(t.length-1)&4294967295;for(var c,u,l,f,d,p=1732584193,h=4023233417,m=2562383102,g=271733878,v=3285377520,y=new Array(80),s=0;o>s;s++){for(var b=0;16>b;b++)y[b]=i[s][b];for(var b=16;80>b;b++)y[b]=e.ROTL(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);c=p,u=h,l=m,f=g,d=v;for(var b=0;80>b;b++){var w=Math.floor(b/20),x=e.ROTL(c,5)+e.f(w,u,l,f)+d+n[w]+y[b]&4294967295;d=f,f=l,l=e.ROTL(u,30),u=c,c=x}p=p+c&4294967295,h=h+u&4294967295,m=m+l&4294967295,g=g+f&4294967295,v=v+d&4294967295}return e.toHexStr(p)+e.toHexStr(h)+e.toHexStr(m)+e.toHexStr(g)+e.toHexStr(v)},e.f=function(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}},e.ROTL=function(e,t){return e<<t|e>>>32-t},e.toHexStr=function(e){for(var t,n="",r=7;r>=0;r--)t=e>>>4*r&15,n+=t.toString(16);return n},e}),define("lodash/internals/baseFlatten",["../objects/isArguments","../objects/isArray"],function(e,t){function n(r,o,i,s){for(var a=(s||0)-1,c=r?r.length:0,u=[];++a<c;){var l=r[a];if(l&&"object"==typeof l&&"number"==typeof l.length&&(t(l)||e(l))){o||(l=n(l,o,i));var f=-1,d=l.length,p=u.length;for(u.length+=d;++f<d;)u[p++]=l[f]}else i||u.push(l)}return u}return n}),define("lodash/objects/functions",["./forIn","./isFunction"],function(e,t){function n(n){var r=[];return e(n,function(e,n){t(e)&&r.push(n)}),r.sort()}return n}),define("lodash/functions/bindAll",["../internals/baseFlatten","../internals/createWrapper","../objects/functions"],function(e,t,n){function r(r){for(var o=arguments.length>1?e(arguments,!0,!1,1):n(r),i=-1,s=o.length;++i<s;){var a=o[i];r[a]=t(r[a],1,null,null,r)}return r}return r}),define("common/modules/ui/sticky",["bonzo","common/utils/$","common/utils/config","common/utils/mediator","fastdom","lodash/objects/defaults","lodash/functions/bindAll"],function(e,t,n,r,o,i,s){var a=function(t,n){this.$element=e(t),this.$parent=this.$element.parent(),this.opts=i(n||{},{top:0}),s(this,"updatePosition")};return a.prototype.init=function(){r.on("window:throttledScroll",this.updatePosition),o.read(this.updatePosition)},a.prototype.updatePosition=function(){var e,r,i,s=this;i=n.switches.viewability?t(".navigation").dim().height:0,window.scrollY>=this.$parent.offset().top-this.opts.top-i?(e=Math.min(this.opts.top,this.$parent[0].getBoundingClientRect().bottom-this.$element.dim().height),0!==e&&(r={position:"fixed",top:e})):r={position:null,top:null},o.write(function(){s.$element.css(r)})},a}),define("common/modules/commercial/ads/sticky-mpu",["qwery","common/utils/$","common/utils/config","common/modules/ui/sticky","lodash/objects/defaults"],function(e,t,n,r,o){var i=275,s=function(e,t){this.$adSlot=e,this.opts=o(t||{},{top:0})};return s.prototype.create=function(){var o;"right"===this.$adSlot.data("name")&&(o=n.page.hasShowcaseMainElement?t(".media-primary").dim().height:e(".content__article-body")[0].offsetTop,this.$adSlot.parent().css("height",o+i+"px"),new r(this.$adSlot[0],{top:this.opts.top}).init())},s}),define("lodash/functions/once",["../objects/isFunction"],function(e){function t(t){var n,r;if(!e(t))throw new TypeError;return function(){return n?r:(n=!0,r=t.apply(this,arguments),t=null,r)}}return t}),define("common/modules/commercial/third-party-tags/audience-science-pql",["common/utils/config","common/utils/storage","common/utils/url","lodash/functions/once","lodash/objects/pairs","lodash/arrays/zipObject","lodash/collections/map","lodash/collections/filter","common/utils/chain"],function(e,t,n,r,o,i,s,a,c){
var u,l="//pq-direct.revsci.net/pql",f="gu.ads.audsci-gateway",d={sport:["FKSWod","2xivTZ","MTLELH"],football:["6FaXJO","ORE2W-","MTLELH"],lifeandstyle:["TQV1_5","J0tykU","kLC9nW","MTLELH"],technology:["9a9VRE","TL3gqK","MTLELH"],fashion:["TQV1_5","J0tykU","kLC9nW","MTLELH"],news:["eMdl6Y","mMYVrM","MTLELH"],"default":["FLh9mM","c7Zrhu","Y1C40a","LtKGsC","MTLELH"]},p=function(){u=d[e.page.section]?e.page.section:"default"},h=r(function(){if(e.switches.audienceScienceGateway){var r=d[u],o=n.constructQuery({placementIdList:r.join(","),cb:(new Date).getTime()}),i=[l,"?",o].join("");return require(["js!"+i],function(){var e=window.asiPlacements,n=t.local.get(f)||{};window.asiPlacements=n[u],n[u]=e,t.local.set(f,n)})}}),m=function(){var n={},r=t.local.get(f);return e.switches.audienceScienceGateway&&r&&(n=c(o(r[u])).and(a,function(e){return e[1]["default"]}).and(s,function(e){return["pq_"+e[0],"T"]}).and(i).valueOf(),window.asiPlacements=r[u]),n};return p(),{load:h,init:p,getSegments:m}}),define("common/modules/commercial/third-party-tags/krux",["common/utils/config","common/utils/cookies","common/utils/storage"],function(e,t,n){function r(){return e.switches.krux?require(["js!//cdn.krxd.net/controltag?confid=JVZiE3vn"]):void 0}function o(e){var r="kx"+e;return n.local.getRaw(r)||t.get(r+"=([^;]*)")||""}function i(){return o("segs")?o("segs").split(","):[]}return{load:r,getSegments:i}}),define("common/utils/time",[],function(){return{currentDate:function(){return new Date}}}),define("common/modules/commercial/user-ad-targeting",["common/utils/storage","common/utils/time","common/modules/identity/api"],function(e,t,n){function r(){if(e.local.isAvailable()){var t,r=e.local.get(i);if(r){if(t=n.getUserFromCookie(),t&&r.userHash===t.id%9999)return r.segments;e.local.remove(i)}}return[]}function o(){e.local.isAvailable()&&null===e.local.get(i)&&n.getUserFromCookie()&&n.getUserFromApi(function(n){if(n&&n.adData){var r,o=[];for(r in n.adData)o.push(r+n.adData[r]);e.local.set(i,{segments:o,userHash:n.id%9999},{expires:t.currentDate().getTime()+864e5})}})}var i="gu.ads.userSegmentsData";return{getUserSegments:r,requestUserSegmentsFromId:o}}),define("common/modules/analytics/mvt-cookie",["common/utils/cookies"],function(e){function t(t){e.add(i,t,365)}function n(){var t=e.get(a),n=r(),o=e.get(s);return o||(o="unknown-visitor-id"),t||(t="unknown-browser-id"),n||(n="unknown-mvt-id"),o+" "+t+" "+n}function r(){return e.get(i)}function o(){return c}var i="GU_mvt_id",s="s_vi",a="bwid",c=899999;return{getMvtFullId:n,getMvtValue:r,getMvtNumValues:o,overwriteMvtCookie:t,MAX_INT:c}}),define("common/modules/experiments/tests/high-commercial-component",[],function(){return function(){this.id="HighCommercialComponent",this.start="2014-07-22",this.expiry="2015-07-09",this.author="Darren Hurley",this.description="Using as a DFP targeting hook to test different high relevance components",this.audience=.1,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="All users",this.dataLinkNames="",this.idealOutcome="",this.showForSensitive=!1,this.canRun=function(){return!0},this.variants=[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}}),define("common/modules/experiments/tests/inject-network-front-test-2",["common/utils/config"],function(e){return function(){this.id="InjectNetworkFrontTest2",this.start="2015-10-30",this.expiry="2015-11-30",this.author="Josh Holder",this.description="Replace the most popular container with the network front on all content pages",this.audience=.04,this.audienceOffset=.46,this.successMeasure="CTR, page views per visit, tendency to return within a week, engagement time per session",this.audienceCriteria="All users",this.dataLinkNames="ab-front-injected-2",this.idealOutcome="",this.canRun=function(){return!(e.page.isFront||"LiveBlog"===e.page.contentType||"Interactive"===e.page.contentType||"iPhone"===navigator.platform&&320===screen.width&&480===screen.height||"iPad"===navigator.platform)},this.variants=[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}}),define("common/modules/experiments/tests/reach-dummy-test-2",[],function(){return function(){this.id="ReachDummyTest2",this.start="2015-11-16",this.expiry="2015-12-05",this.author="Josh Holder",this.description="This test does not affect the page in any way, instead it is a test of the 0% to 2% sample, which has potentially caused us problems twice now.",this.audience=.02,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="All users",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){return!0},this.variants=[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}}),define("common/modules/experiments/tests/essential-read-test-1",["common/utils/config"],function(e){return function(){this.id="EssentialReadTest1",this.start="2015-10-20",this.expiry="2015-12-20",this.author="Josh Holder",this.description="Replaces related content with the essential read",this.audience=.3,this.audienceOffset=.06,this.successMeasure="",this.audienceCriteria="All users",this.dataLinkNames="the-essential-read",this.idealOutcome="",this.canRun=function(){return!e.page.isFront},this.variants=[{id:"control",test:function(){}},{id:"curated",test:function(){}},{id:"automated",test:function(){}}]}}),define("common/modules/experiments/tests/large-top-slot",["common/utils/config"],function(e){return function(){this.id="LargeTopAd",this.start="2015-10-27",this.expiry="2015-12-31",this.author="Steve Vadocz",this.description="This will opt out 1% of US users from the large top ad format.",this.audience=.01,this.audienceOffset=.45,this.successMeasure="We will see clear difference between user behavior",this.audienceCriteria="Users in US edition",this.dataLinkNames="",this.idealOutcome="We can tell if the top large ad format is desirable in the future or what cost it has to the engagement.",this.canRun=function(){return"US"===e.page.edition},this.variants=[{id:"noad",test:function(){}},{id:"ad",test:function(){}}]}}),define("common/modules/experiments/tests/video-preroll",["common/utils/config"],function(e){return function(){this.id="VideoPreroll",this.start="2015-11-11",this.expiry="2015-12-11",this.author="Zofia Korcz",this.description="A test to see if an audience from UK or INT will be interested in video pre-rolls.",this.audience=.5,this.audienceOffset=.5,this.successMeasure="We will see clear difference between user behavior",this.audienceCriteria="Users not in AU nor US edition",this.dataLinkNames="",this.idealOutcome="UK and INT audience will be interested in video pre-rolls.",this.canRun=function(){return"UK"===e.page.edition||"INT"===e.page.edition},this.variants=[{id:"preroll",test:function(){}},{id:"nopreroll",test:function(){}}]}}),define("common/utils/formInlineLabels",["bean","qwery","common/utils/$","fastdom"],function(e,t,n,r){function o(e,t,n,o){return function(){var i=void 0!==o?o():!0;i&&r.write(function(){t["add"===e?"addClass":"removeClass"](n)})}}return{init:function(t,r){var i=n(t),s=n(r.textInputClass,t),a=n(r.labelClass,t),c=r.hiddenLabelClass,u=r.labelEnabledClass;o("add",i,u)(),""!==s.val()&&o("add",a,c)(),e.on(s[0],{focus:o("add",a,c),blur:o("remove",a,c,function(){return""===s.val()})})}}}),define("lodash/utilities/now",["../internals/isNative"],function(e){var t=e(t=Date.now)&&t||function(){return(new Date).getTime()};return t}),define("lodash/functions/debounce",["../objects/isFunction","../objects/isObject","../utilities/now"],function(e,t,n){function r(r,s,a){var c,u,l,f,d,p,h,m=0,g=!1,v=!0;if(!e(r))throw new TypeError;if(s=i(0,s)||0,a===!0){var y=!0;v=!1}else t(a)&&(y=a.leading,g="maxWait"in a&&(i(s,a.maxWait)||0),v="trailing"in a?a.trailing:v);var b=function(){var e=s-(n()-f);if(0>=e){u&&clearTimeout(u);var t=h;u=p=h=o,t&&(m=n(),l=r.apply(d,c),p||u||(c=d=null))}else p=setTimeout(b,e)},w=function(){p&&clearTimeout(p),u=p=h=o,(v||g!==s)&&(m=n(),l=r.apply(d,c),p||u||(c=d=null))};return function(){if(c=arguments,f=n(),d=this,h=v&&(p||!y),g===!1)var e=y&&!p;else{u||y||(m=f);var t=g-(f-m),o=0>=t;o?(u&&(u=clearTimeout(u)),m=f,l=r.apply(d,c)):u||(u=setTimeout(w,t))}return o&&p?p=clearTimeout(p):p||s===g||(p=setTimeout(b,s)),e&&(o=!0,l=r.apply(d,c)),!o||p||u||(c=d=null),l}}var o,i=Math.max;return r}),define("inlineSvg!svgs/icon/comment-16",function(){return'<span class="inline-comment-16 inline-icon"><svg width="16" height="16" viewBox="0 0 16 16"><path d="M13 0l1 1v7l-1 1H7l-2 3H4V9H2L1 8V1l1-1h11z"/></svg></span>'}),define("inlineSvg!svgs/icon/marque-36",function(){return'<span class="inline-marque-36 inline-icon"><svg width="36" height="36" viewBox="0 0 36 36"><path d="M21.3 8.8c0-4.9-1.5-5.7-3.3-5.7-1.8 0-3.2.7-3.2 5.7s1.5 5.5 3.2 5.5c1.8-.1 3.3-.6 3.3-5.5m-6.5 18.8c-2.3 0-2.9 1.7-2.9 2.9 0 1.8 1.6 3.4 6.3 3.4 5.3 0 6.8-1.5 6.8-3.4 0-1.7-1.3-2.9-3.4-2.9h-6.8zM10.5 2.4C4.3 5.2 0 11.4 0 18.7c0 4.9 2 9.4 5.2 12.6V31c0-3.2 3.1-4.4 5.9-5-2.6-.6-3.9-2.5-3.9-4.4 0-2.6 2.9-4.8 4.3-5.8l-.2-.1c-2.5-1.4-4.1-3.8-4.1-7 0-2.7 1.2-4.9 3.3-6.3M36 18.8C36 11.4 31.5 5 25.1 2.3c2.1 1.4 3.4 3.5 3.5 6.3l.1.6c0 5.4-4.4 8.2-10.7 8.2-1.6 0-2.7-.1-4.1-.5-.6.4-1.1 1.1-1.1 1.8 0 .9.8 1.6 1.8 1.6h8.8c5.5 0 8.2 2.2 8.2 7.1 0 1.6-.3 3.1-1 4.3 3.3-3.4 5.4-7.9 5.4-12.9"/></svg></span>'}),define("inlineSvg!svgs/icon/marque-54",function(){return'<span class="inline-marque-54 inline-icon"><svg width="54" height="54" viewBox="0 0 36 36"><path d="M21.3 8.8c0-4.9-1.5-5.7-3.3-5.7-1.8 0-3.2.7-3.2 5.7s1.5 5.5 3.2 5.5c1.8-.1 3.3-.6 3.3-5.5m-6.5 18.8c-2.3 0-2.9 1.7-2.9 2.9 0 1.8 1.6 3.4 6.3 3.4 5.3 0 6.8-1.5 6.8-3.4 0-1.7-1.3-2.9-3.4-2.9h-6.8zM10.5 2.4C4.3 5.2 0 11.4 0 18.7c0 4.9 2 9.4 5.2 12.6V31c0-3.2 3.1-4.4 5.9-5-2.6-.6-3.9-2.5-3.9-4.4 0-2.6 2.9-4.8 4.3-5.8l-.2-.1c-2.5-1.4-4.1-3.8-4.1-7 0-2.7 1.2-4.9 3.3-6.3M36 18.8C36 11.4 31.5 5 25.1 2.3c2.1 1.4 3.4 3.5 3.5 6.3l.1.6c0 5.4-4.4 8.2-10.7 8.2-1.6 0-2.7-.1-4.1-.5-.6.4-1.1 1.1-1.1 1.8 0 .9.8 1.6 1.8 1.6h8.8c5.5 0 8.2 2.2 8.2 7.1 0 1.6-.3 3.1-1 4.3 3.3-3.4 5.4-7.9 5.4-12.9"/></svg></span>'}),define("inlineSvg!svgs/icon/market-down",function(){return'<span class="inline-market-down inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path fill="#B51800" d="M15 1.03L13.97 0H1L0 1l7 10h.958L15 1.016z"/></svg></span>'}),define("inlineSvg!svgs/icon/market-up",function(){return'<span class="inline-market-up inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path fill="#298422" d="M0 9.97L1.03 11H14l1-1L8 0h-.958L0 9.984z"/></svg></span>'}),define("inlineSvg!svgs/icon/market-same",function(){return'<span class="inline-market-same inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path d="M15 1.03L13.97 0H1L0 1l7 4h.958L15 1.016zM0 9.97L1.03 11H14l1-1-7-4h-.958L0 9.984z" fill="#333"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow",function(){return'<span class="inline-arrow inline-icon"><svg width="24" height="10" viewBox="0 0 24 10"><path d="M0 .7l10.5 8.4 1.1.9 1.1-.9L23.2.7l-.5-.7-11.1 6.3L.6 0 0 .7z"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow-down",function(){return'<span class="inline-arrow-down inline-icon"><svg width="24" height="18" viewBox="-0.525 -4 24 18" overflow="visible"><path d="M23.2.7L12.7 9.1l-1.1.9-1.1-.898L0 .7.5 0l11.1 6.3L22.7 0l.5.7z"/></svg></span>'}),define("inlineSvg!svgs/icon/cross",function(){return'<span class="inline-cross inline-icon"><svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9L1 2l1-1 7 6.5L16 1l1 1-6.5 7 6.5 7-1 1-7-6.5L2 17l-1-1 6.5-7z"/></svg></span>'}),define("inlineSvg!svgs/logo/logo-guardian",function(){return'<span class="inline-logo-guardian inline-logo"><svg width="106.67" height="20" viewBox="0 0 320 60"><path d="M284 45h16v-2.95l-3.04-1.55v-20c1.2-.87 2.76-1.14 4.27-1.14 2.76 0 3.77.94 3.77 4.14v17l-3 1.55V45h16v-2.95l-3-1.55v-19c0-5.7-2.2-8.32-7.22-8.32-4.1 0-8.1 1.5-10.82 4.03V13H296l-12.4 2.22v2.7l3.4 1.58v21l-3 1.54V45zM245.27.37c-2.97 0-5.35 2.43-5.35 5.47 0 2.98 2.38 5.4 5.35 5.4 2.92 0 5.36-2.42 5.36-5.4 0-3.04-2.44-5.47-5.36-5.47zM237 15.1v2.83l3 1.57v20.95L237 42v3h16v-3l-3-1.55V13.07h-1l-12 2.04zm-14.07 23.95c-.73.6-1.56 1.07-3.08 1.07-4 0-5.9-3.3-5.9-10.93 0-8.74 2.4-11.67 5.58-11.67 1.78 0 2.67.57 3.4 1.4v20.1zm0-24.5c-1.24-.87-3.2-1.37-4.86-1.37-7.45 0-14.48 4.35-14.48 16.83 0 11.88 7.06 15.7 11.8 15.7 3.8 0 6.4-1.7 7.63-3.37h.33v3.26h.86l11.95-1.44V41.9l-3.2-1.82V.6h-.8l-12.6 2.04v2.8L222.93 7v7.56zM181 18l3.02 1.53v20.92L181 42v3h17v-3l-3.93-1.55v-16.4c1.78-1.42 4-1.87 6.7-1.87.87 0 1.63.16 2.23.32v-9c-.33-.1-.66-.2-1.2-.2-3.3 0-5.94 2.14-7.73 6.23v-6.46H193L181 15v3zm-19.26-.8c3.9 0 5.03 2 5.03 5.92v3.48L161 27.7c-5.9 1.12-10.37 2.95-10.37 9.3 0 5.13 3.53 8.7 8.34 8.7 3.78 0 7.35-1.67 8.7-4.43h.27c.5 3.32 3.3 4.36 6.44 4.36 2.42 0 4.77-.6 5.66-1.63v-2L177 40.5v-18c0-6.95-5-9.43-13.1-9.43-5.3 0-8.76 1.35-11.57 2.7v7.84h4.7l2.04-6.04c.7-.33 2.18-.34 2.67-.34zM164 40.07c-1.94 0-4-1.14-4-4.56 0-2.43 2.4-4.64 4.75-5L167 30v8.5s-1.9 1.56-3 1.56zM264.75 17.2c3.9 0 5.03 2 5.03 5.92v3.48L264 27.7c-5.9 1.12-10.36 2.95-10.36 9.3 0 5.13 3.53 8.7 8.34 8.7 3.78 0 7.35-1.67 8.7-4.43h.27c.5 3.32 3.3 4.36 6.44 4.36 2.4 0 4.76-.6 5.65-1.63v-2L280 40.5v-18c0-6.95-5-9.43-13.1-9.43-5.3 0-8.76 1.35-11.57 2.7v7.84h4.7l2.04-6.04c.7-.33 2.18-.34 2.67-.34zM267 40.07c-1.94 0-4-1.14-4-4.56 0-2.43 2.4-4.64 4.75-5L270 30v8.5s-1.9 1.56-3 1.56zM128.3 45.7c.44 0 .87-.03 1.3-.07 3.54-.34 6.68-2.02 8.42-4.2v4.07l12-1.5v-2l-3-2V13h-1l-11.88 2.28v2.8l3.88 1.6V38c-1.12.76-2.42 1.34-4.2 1.34-2.54 0-4.8-.8-4.8-4.34V13h-1l-12 2.5v2.6l4 1.6V36c0 5.36 2.17 9.7 8.28 9.7zM96 38c-1.2 0-2.54-.8-2.54-1.9 0-.84.6-1.72 1.35-2.28 1.65.5 3 .6 5 .6 7.78 0 13.2-3.68 13.2-10.42 0-3.03-1.3-4.64-3.2-6.4L115 19v-6l-8.24 1.62c-1.9-.72-4.54-1.6-6.97-1.6-7.8 0-13.2 4.08-13.2 10.76 0 4.08 2 7.12 5 8.83l.26.17C90.13 34 86.6 36.75 86.6 40c0 2.44 1.5 4.8 4.74 5.54-3.4.7-7.34 2.43-7.34 6.46 0 4.14 5.95 8 15.46 8C111.3 60 116 54.34 116 47c0-6.07-2.8-9-9.5-9H96zm7.5-14c0 5.7-1.34 6.5-3.5 6.5s-4-.8-4-6.5c0-5.82 1.84-7.5 4-7.5 2.22 0 3.5 1.96 3.5 7.5zM92 50.93c.06-1.48 1.1-3.4 3.7-3.58h8.6c2.48 0 3.7 1.98 3.7 3.58 0 3.2-2 4.37-8.26 4.37-5.52 0-7.83-2.2-7.74-4.37zM83 30c0-12.97-5.14-16.88-12.96-16.88C61 13.12 55 19.3 55 29.5c0 10.5 5.47 16.2 15.85 16.2C76.42 45.7 80.6 43 82 41v-3c-2.1.66-3.9 1.23-7.75 1.23C68.75 39.23 65 36 65 30h18zM69.87 16.6c2.5 0 3.84 1.85 3.84 9.55l-8.36.5c.12-7.87 1.8-10.05 4.55-10.05zM37 45v-2.95l-3-1.55V21c1.2-.85 3.25-1.73 4.76-1.73 2.76 0 4.3 1.55 4.24 4.23v17l-3 1.55V45h16v-2.95l-3-1.55v-19c0-5.7-3.32-8.32-7.68-8.32-4.1 0-8.62 1.28-11.32 3.82V0h-1L21 2v3l4 1.5v34l-3 1.55V45h15zM4 36.42c0 5.68 2.85 9.27 8.85 9.27 3.13 0 6.48-.85 8.4-2.3v-3.8c-.8.26-2.18.5-3.26.5-2.94 0-4-1.58-4-4.6V19h7v-5.05h-7V6.5L4 8v5.95L0 15v4h4v17.4z"/></svg></span>'}),define("inlineSvg!svgs/commercial/logo-soulmates",function(){return'<span class="inline-logo-soulmates inline-commercial"><svg width="86" height="18" viewBox="-0.48 -1.133 86 18" overflow="visible"><path d="M81.95 9.55c-.55-.148-2.2-.55-2.852-1.1-.3-.3-.45-.75-.45-1.3 0-.6.2-.948.65-1.25.4-.3 1.05-.448 1.75-.448 1 0 1.7.25 2.15.4L83.45 7.5c.05.2.198.35.397.35.25 0 .45-.2.45-.45l.05-2c.05-.35-.147-.5-.397-.65-.4-.198-1.4-.6-2.9-.6-2.25 0-3.65 1.15-3.65 2.9 0 .85.3 1.7.8 2.202.65.7 1.55.95 3.4 1.5 1.45.5 2.05.8 2.05 2.05 0 .65-.15 1.2-.5 1.5-.45.35-1.15.6-2.1.6-1.25 0-2.15-.3-2.65-.5l-.2-1.65c0-.25-.2-.45-.45-.45s-.5.15-.5.4l-.1 2c0 .25.198.55.448.65.5.25 1.602.75 3.352.75 1.25 0 2.25-.302 2.95-.85.698-.552 1-1.5 1-2.552-.052-2.15-1.5-2.698-2.95-3.15zM32.2 0l-1.7.35c-.3 0-.5.2-.5.5s.25.5.6.5h1V15.3c0 .352.3.65.6.65.35 0 .65-.3.65-.6V.6c0-.45-.5-.6-.65-.6zm14.85 4.15c-1.702-.05-3.6 1.052-4.2 1.5-.5-1-1.5-1.5-2.95-1.5-1.7 0-2.85.7-3.7 1.25v-.55c0-.35-.3-.6-.6-.6-.35 0-.65.3-.65.6v10.402c0 .35.3.648.6.648.35 0 .65-.25.65-.7V6.6c.65-.398 2-1.2 3.7-1.2.8 0 1.3.15 1.6.5.3.302.5.85.5 1.45v7.902c0 .35.3.648.6.648.35 0 .648-.3.648-.6L43.2 7.35c0-.25 0-.45-.052-.7.4-.2 1.85-1.25 3.802-1.25.8 0 1.35.15 1.698.5.302.3.45.8.45 1.4v7.95c0 .352.3.65.602.65.3 0 .647-.2.647-.65v-7.9c0-2.1-1.298-3.15-3.298-3.2zM4.85 9.503C4.3 9.353 2.65 8.953 2 8.4c-.35-.3-.45-.75-.45-1.3 0-.6.2-.95.65-1.25.4-.3 1.05-.45 1.75-.45 1 0 1.7.25 2.15.4l.25 1.65c.05.2.2.35.4.35.25 0 .45-.2.45-.45l.05-2c.05-.35-.15-.5-.4-.648-.4-.2-1.4-.6-2.9-.6C1.7 4.1.3 5.25.3 7c0 .85.3 1.7.8 2.2.65.7 1.55.95 3.4 1.5 1.45.5 2.05.802 2.05 2.052 0 .648-.15 1.2-.5 1.5-.45.35-1.15.6-2.1.6-1.25 0-2.15-.3-2.65-.5l-.25-1.6c0-.25-.2-.45-.45-.45s-.5.15-.5.4l-.1 2c0 .25.2.55.45.65.5.25 1.6.75 3.35.75 1.25 0 2.25-.302 2.95-.852.7-.55 1-1.5 1-2.55 0-2.15-1.45-2.75-2.9-3.198zm68.9-4.9c-.6-.3-1.35-.45-2.15-.45-.647 0-1.35.1-1.897.3-.65.25-1.25.7-1.7 1.15-.5.5-.852 1-1.102 1.75-.3.798-.446 1.7-.446 2.7 0 1.8.35 3.15 1.1 4.15.9 1.25 2.35 1.9 4.35 1.9 2.05 0 3.45-.65 3.45-.65.3-.15.55-.4.35-.802-.148-.35-.6-.3-.95-.2 0 0-1.15.4-2.9.4-2.896 0-4.146-1.55-4.146-4.85 0-1.65.397-2.75 1.198-3.6.85-.85 1.9-1.1 2.65-1.1 1.198 0 2 .3 2.55 1.1.398.6.7 1.5.75 2.5l-5.5.1c-.3 0-.602.2-.602.45 0 .3.1.65.45.65H75.5c.35 0 .6-.25.6-.7 0-1.55-.35-2.75-1-3.65-.252-.55-1.35-1.15-1.35-1.15zm-7.902 10.1s-.6.198-1.3.198c-.45 0-.85-.2-1.05-.397-.3-.3-.25-.852-.25-1.3V5.55h2.65c.35 0 .6-.35.6-.65 0-.35-.3-.6-.6-.6h-2.65V2.15c0-.3-.35-.55-.65-.55-.35 0-.648.25-.648.55V4.3H60.9c-.302 0-.6.25-.6.55 0 .3.198.648.5.648h1.15v7.55c0 .85.048 1.7.6 2.25.448.45 1.15.7 2 .7.948 0 1.65-.25 1.698-.25.3-.1.35-.5.25-.8-.15-.198-.298-.348-.65-.25zm-11.3-10.4c-.95.15-1.5.35-1.5.35-.3.1-.6.5-.45.8.15.3.5.55.8.4l1.052-.3c.85-.15 1.75-.25 2.6-.052 1.05.25 1.4 1.35 1.4 2.45v5.75c-.65.553-1.55 1-2.4 1.15-1.55.25-3.25-.4-3.25-2.15 0-1.1.8-1.65 1.7-1.947.65-.2 1.9-.4 2.75-.45.25 0 .4-.25.4-.55 0-.3-.25-.45-.552-.45-.75 0-1.648 0-2.8.35-1.1.3-2.1.75-2.5 1.95-.5 1.45.1 3.1 1.4 3.95 1.6.95 3.95.6 5.25-.7v.45c0 .35.35.6.648.6.353 0 .603-.3.603-.6V7.9c0-1.15-.203-2-.703-2.6-.95-1.15-2.548-1.302-4.45-1zm-25.224.623c.102-.35-.2-.65-.5-.65-.35 0-.648.3-.648.6v8.902c-.55.35-2 1.05-3.7 1.05-1 0-1.75-.25-2.1-.7-.15-.2-.352-.5-.352-1.4V4.88c-.05-.35-.3-.55-.6-.55-.25 0-.5.15-.6.35-.4 1.25-2.4 3-5.45 3-1.15 0-1.65-.65-1.65-1.25 0-1.05 1.15-1.2 2.05-.65.3.2.75.1.9-.2.1-.25.05-.65-.25-.8-.75-.4-1.6-.6-2.55-.6-1.35 0-2.55.45-3.45 1.3-.5.5-.9 1.3-1.2 2.05-.3.75-.5 1.65-.5 2.65 0 1.05.1 1.9.35 2.602.2.75.55 1.397 1 1.897.9 1 2.2 1.55 3.75 1.55 1.35 0 2.6-.55 3.5-1.4.5-.5.85-1.15 1.1-1.85.3-.75.5-1.65.5-2.65 0-.9-.05-1.6-.2-2.25.95-.45 2-1.45 2-1.45v6.2c0 .552.1 1.552.65 2.2.6.8 1.648 1.148 3.1 1.148 1.5 0 2.8-.647 3.65-1.25l-.052.4c0 .35.3.65.65.65.35 0 .65-.4.65-.75l-.048-10.3zm-12.8 9c-.65.65-1.6 1.05-2.65 1.05-1.2 0-2.15-.447-2.8-1.197-.65-.75-1-2.15-1-3.605 0-1.8.45-3.1 1.25-3.898.4-.4 1.2-.75 1.75-.85-.3.3-.4.65-.4.95 0 1.4 1.05 2.35 2.85 2.35.7 0 1.55-.15 2.15-.3.05.3.1.95.1 1.75 0 1.45-.4 2.95-1.25 3.748z"/></svg></span>'}),define("inlineSvg!svgs/icon/close-central",function(){return'<span class="inline-close-central inline-icon"><svg width="30" height="30"><path d="M21 9.8l-.8-.8-5.2 4.8L9.8 9l-.8.8 4.8 5.2L9 20.2l.8.8 5.2-4.8 5.2 4.8.8-.8-4.8-5.2L21 9.8"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow-white-right",function(){return'<span class="inline-arrow-white-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path fill="#fff" d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow-right",function(){return'<span class="inline-arrow-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>'}),define("inlineSvg!svgs/icon/bookmark",function(){return'<span class="inline-bookmark inline-icon"><svg width="8.6" height="16" viewBox="0 0 8.6 16"><path d="M0 15.7V1l1-1h6.5l1 1v14.7l-.2.3-4-2.2-4 2.2"/></svg></span>'}),define("inlineSvg!svgs/icon/dropdown-mask",function(){return'<span class="inline-dropdown-mask inline-icon"><svg width="32" height="32"><path d="M0 0v32h32V0H0zm16.2 22.9L3.8 13.1l.6-.7L16.2 19 28 12.4l.6.7-12.4 9.8z"/></svg></span>'}),define("inlineSvg!svgs/icon/comment-anchor",function(){return'<span class="inline-comment-anchor inline-icon"><svg width="15" height="15" viewBox="0 0 15 15"><path fill="#898989" d="M5.725 13.348c-.98 1.02-2.6 1.055-3.623.076-1.02-.98-1.055-2.602-.076-3.623l8.424-8.79c.732-.765 1.95-.79 2.717-.056.768.734.79 1.95.06 2.715L6.33 10.86c-.492.513-1.302.53-1.812.038-.51-.488-.528-1.3-.04-1.81l5.324-5.553.337.32-5.324 5.556c-.31.325-.3.84.025 1.152.327.312.842.3 1.15-.024l6.897-7.192c.557-.58.536-1.5-.043-2.058-.58-.557-1.504-.537-2.058.043l-8.427 8.79c-.8.837-.772 2.163.062 2.965.836.802 2.164.772 2.965-.062l6.853-7.152.338.323-6.853 7.15z"/></svg></span>'}),define("inlineSvg!svgs/icon/reply",function(){return'<span class="inline-reply inline-icon"><svg width="18" height="18"><path d="M10.1 5l.9-1 4 4.5v1L11 14l-.9-1 2.5-3H4L3 9V6.5h2V8h7.6l-2.5-3z"/></svg></span>'}),define("inlineSvg!svgs/icon/expand-image",function(){return'<span class="inline-expand-image inline-icon"><svg width="22" height="22" viewBox="0 0 22 22"><path d="M3.4 20.2L9 14.5 7.5 13l-5.7 5.6L1 14H0v7.5l.5.5H8v-1l-4.6-.8M18.7 1.9L13 7.6 14.4 9l5.7-5.7.5 4.7h1.2V.6l-.5-.5H14v1.2l4.7.6"/></svg></span>'}),define("inlineSvg!svgs/icon/cursor",function(){return'<span class="inline-cursor inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 95.828 95.828"><path fill="#fff" d="M71 27.4l-18 41-1.7-.1-4-13.7-15.8 15.8-6-6 15.8-15.8-13.7-4-.1-1.7 41-18 2.3 2.3m25 20.5C95.8 21.2 74.3-.2 47.9-.2S0 21.3 0 47.7s21.5 47.9 47.9 47.9 47.9-21.5 47.9-47.9"/></svg></span>'}),define("inlineSvg!svgs/icon/plus",function(){return'<span class="inline-plus inline-icon"><svg width="24" height="24" viewBox="-0.5 0.5 24 24"><path d="M10.682 3.5h1.636l.41 7.773 7.772.408v1.638l-7.77.41-.413 7.772H10.68l-.407-7.77-7.773-.412V11.68l7.773-.407.41-7.773z"/></svg></span>'}),define("inlineSvg!svgs/icon/share",function(){return'<span class="inline-share inline-icon"><svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.073 8.4c-.475 0-.906.19-1.225.497L3.54 6.22 3.555 6l-.015-.22 5.308-2.677c.32.308.75.497 1.225.497.982 0 1.778-.806 1.778-1.8S11.056 0 10.074 0 8.295.806 8.295 1.8l.016.233-5.298 2.675c-.32-.313-.755-.507-1.236-.507-.982 0-1.778.807-1.778 1.8s.796 1.8 1.778 1.8c.48 0 .915-.193 1.236-.506l5.3 2.675-.017.232c0 .994.796 1.8 1.778 1.8s1.778-.806 1.778-1.8-.795-1.8-1.777-1.8zm0-7.68c.588 0 1.067.484 1.067 1.08 0 .596-.48 1.08-1.067 1.08S9.006 2.396 9.006 1.8c0-.596.48-1.08 1.067-1.08zm0 10.56c-.588 0-1.067-.484-1.067-1.08 0-.596.48-1.08 1.067-1.08s1.067.484 1.067 1.08c0 .596-.48 1.08-1.067 1.08z"/></svg></span>'}),define("inlineSvg!svgs/icon/share-twitter",function(){return'<span class="inline-share-twitter inline-icon"><svg width="32" height="32" viewBox="-2 -2 32 32"><path d="M21.3 10.5v.5c0 4.7-3.5 10.1-9.9 10.1-2 0-3.8-.6-5.3-1.6.3 0 .6.1.8.1 1.6 0 3.1-.6 4.3-1.5-1.5 0-2.8-1-3.3-2.4.2 0 .4.1.7.1l.9-.1c-1.6-.3-2.8-1.8-2.8-3.5.5.3 1 .4 1.6.4-.9-.6-1.6-1.7-1.6-2.9 0-.6.2-1.3.5-1.8 1.7 2.1 4.3 3.6 7.2 3.7-.1-.3-.1-.5-.1-.8 0-2 1.6-3.5 3.5-3.5 1 0 1.9.4 2.5 1.1.8-.1 1.5-.4 2.2-.8-.3.8-.8 1.5-1.5 1.9.7-.1 1.4-.3 2-.5-.4.4-1 1-1.7 1.5z"/></svg></span>'}),define("inlineSvg!svgs/icon/share-email",function(){return'<span class="inline-share-email inline-icon"><svg width="32" height="32" viewBox="-2 -2 32 32"><path d="M20.2 11.7l-.4-.4-5.7 2.7-5.7-2.7-.3.4 6 4.9 6.1-4.9zM21.4 7H6.5L5 9.5v9.3L6.6 20h14.9l1.5-1.2V9.5L21.4 7zm-.5 10.8H7.1V9.2h13.8v8.6z"/></svg></span>'}),define("inlineSvg!svgs/icon/share-facebook",function(){return'<span class="inline-share-facebook inline-icon"><svg width="32" height="32" viewBox="-2 -2 32 32"><path d="M17.9 14h-3v8H12v-8h-2v-2.9h2V8.7C12 6.8 13.1 5 16 5c1.2 0 2 .1 2 .1v3h-1.8c-1 0-1.2.5-1.2 1.3v1.8h3l-.1 2.8z"/></svg></span>'}),define("inlineSvg!svgs/icon/share-pinterest",function(){return'<span class="inline-share-pinterest inline-icon"><svg viewBox="0 0 32 32"><path d="M16.363 8C12.133 8 10 11.13 10 13.74c0 1.582.58 2.988 1.823 3.512.204.086.387.003.446-.23.04-.16.136-.568.18-.737.06-.23.036-.312-.128-.513-.36-.436-.588-1-.588-1.802 0-2.322 1.684-4.402 4.384-4.402 2.39 0 3.703 1.508 3.703 3.522 0 2.65-1.135 4.887-2.82 4.887-.93 0-1.63-.795-1.406-1.77.268-1.165.786-2.42.786-3.262 0-.752-.39-1.38-1.2-1.38-.952 0-1.716 1.017-1.716 2.38 0 .867.284 1.454.284 1.454l-1.146 5.005c-.34 1.487-.05 3.31-.026 3.493.014.108.15.134.21.05.09-.117 1.223-1.562 1.61-3.006.108-.41.625-2.526.625-2.526.31.61 1.216 1.145 2.177 1.145C20.06 19.56 22 16.87 22 13.264 22 10.54 19.764 8 16.364 8"/></svg></span>'}),define("inlineSvg!svgs/icon/share-gplus",function(){return'<span class="inline-share-gplus inline-icon"><svg width="32" height="32" viewBox="-2 -2 32 32"><path d="M21.65 8.76V5.5h-1.12v3.26h-3.35v1.12h3.35v3.34h1.12V9.88H25V8.76zM16.28 5.5h-4.62s-4.68.1-4.68 4.06c0 3.96 4.1 3.5 4.1 3.5v1c0 .4.54.27.6 1.1C11.42 15.15 6 15 6 18.58c0 3.56 4.77 3.4 4.77 3.4s5.5.25 5.5-4.2c0-2.66-3.14-3.52-3.14-4.6 0-1.07 2.37-1.38 2.37-3.9 0-1.52-.14-2.43-1.33-2.97 0-.38 2.1-.13 2.1-.83zm-1.5 12.6c.1 1.4-1.36 2.62-3.27 2.75-1.9.13-3.52-.9-3.6-2.28-.1-1.38 1.36-2.6 3.27-2.74 1.9-.13 3.53.9 3.62 2.27zm-2.8-6c-1.13.32-2.4-.72-2.84-2.3-.43-1.6.14-3.13 1.28-3.44 1.13-.3 2.4.73 2.84 2.32.43 1.6-.14 3.12-1.28 3.43z"/></svg></span>'}),define("inlineSvg!svgs/icon/external-link",function(){return'<span class="inline-external-link inline-icon"><svg width="14" height="10" viewBox="0 0 14 10"><path d="M12 1.1L8.27 4.83l.902.9L13 2.07 13.2 5h.8V.4l-.4-.4H9v.8zm-.3 5.525V8.7H1.2V2.2h5l.8-.6V1H.6l-.6.6v7.8l.6.6h11.8l.6-.6V6h-.7z"/></svg></span>'}),define("inlineSvg!svgs/icon/tick",function(){return'<span class="inline-tick inline-icon"><svg width="10.79" height="8.608" viewBox="0 0 10.79 8.608"><path d="M2.987 6.575L10.244 0l.546.532-7.803 8.076h-.26L0 4.788l.545-.546 2.442 2.333z"/></svg></span>'}),define("common/views/svgs",["inlineSvg!svgs/icon/comment-16","inlineSvg!svgs/icon/marque-36","inlineSvg!svgs/icon/marque-54","inlineSvg!svgs/icon/market-down","inlineSvg!svgs/icon/market-up","inlineSvg!svgs/icon/market-same","inlineSvg!svgs/icon/arrow","inlineSvg!svgs/icon/arrow-down","inlineSvg!svgs/icon/cross","inlineSvg!svgs/logo/logo-guardian","inlineSvg!svgs/commercial/logo-soulmates","inlineSvg!svgs/icon/close-central","inlineSvg!svgs/icon/arrow-white-right","inlineSvg!svgs/icon/arrow-right","inlineSvg!svgs/icon/bookmark","inlineSvg!svgs/icon/dropdown-mask","inlineSvg!svgs/icon/comment-anchor","inlineSvg!svgs/icon/reply","inlineSvg!svgs/icon/expand-image","inlineSvg!svgs/icon/cursor","inlineSvg!svgs/icon/plus","inlineSvg!svgs/icon/share","inlineSvg!svgs/icon/share-twitter","inlineSvg!svgs/icon/share-email","inlineSvg!svgs/icon/share-facebook","inlineSvg!svgs/icon/share-pinterest","inlineSvg!svgs/icon/share-gplus","inlineSvg!svgs/icon/external-link","inlineSvg!svgs/icon/tick","lodash/objects/isArray"],function(e,t,n,r,o,i,s,a,c,u,l,f,d,p,h,m,g,v,y,b,w,x,k,S,j,_,C,E,A,O){var T={commentCount16icon:e,marque36icon:t,marque54icon:n,marketDownIcon:r,marketUpIcon:o,marketSameIcon:i,arrowicon:s,arrowdownicon:a,crossIcon:c,logoguardian:u,logosoulmates:l,closeCentralIcon:f,arrowWhiteRight:d,arrowRight:p,bookmark:h,dropdownMask:m,commentAnchor:g,reply:v,expandImage:y,cursor:b,plus:w,share:x,shareTwitter:k,shareEmail:S,shareFacebook:j,sharePinterest:_,shareGPlus:C,externalLink:E,tick:A};return function(e,t,n){var r=T[e];return t&&(O(t)?r=r.replace(/class="/,"$&"+t.join(" ")+" "):window.console&&window.console.error&&window.console.error("Classes for inlineSvg must be an array: ",t)),n&&(r=r.replace(/<span /,'<span title="'+n+'" ')),r}}),define("text!common/views/email/submissionResponse.html",[],function(){return'<div class="email-sub__message <%=statusClass%>" role="alert" aria-live="assertive">\n    <%=submissionIcon%>\n    <h3 class="email-sub__message__headline"><%=submissionHeadline%></h3>\n    <p class="email-sub__message__description"><%=submissionMessage%></p>\n</div>\n'}),define("common/modules/email/email",["common/utils/formInlineLabels","bean","qwery","common/utils/$","common/utils/ajax-promise","common/utils/config","fastdom","common/utils/mediator","lodash/functions/debounce","common/utils/template","common/views/svgs","text!common/views/email/submissionResponse.html"],function(e,t,n,r,o,i,s,a,c,u,l,f){var d={wrapper:"js-email-sub",form:"js-email-sub__form",inlineLabel:"js-email-sub__inline-label",textInput:"js-email-sub__text-input"},p={bindSubmit:function(e){var n=i.page.ajaxUrl+"/email";t.on(e[0],"submit",this.submitForm(e,n))},submitForm:function(e,t){return function(n){var i="email="+encodeURIComponent(r("."+d.textInput,e).val());return require("common/modules/analytics/omniture",function(e){e.trackLinkImmediate("rtrt | email form inline | footer | subscribe clicked")}),n.preventDefault(),o({url:t,method:"post",data:i,headers:{Accept:"application/json"}}).then(this.submissionResult(!0,e),this.submissionResult(!1,e))}.bind(this)},submissionResult:function(e,t){return function(){h.replaceContent(e,t)}}},h={replaceContent:function(e,t){var n={statusClass:e?"email-sub__message--success":"email-sub__message--failure",submissionHeadline:e?"Thank you for subscribing":"Something went wrong",submissionMessage:e?"We will send you our picks of the most important headlines tomorrow morning.":"Please try again.",submissionIcon:l(e?"tick":"crossIcon")},r=u(f,n);s.write(function(){t.addClass("email-sub__form--is-hidden"),t.after(r)}),e&&require("common/modules/analytics/omniture",function(e){e.trackLinkImmediate("rtrt | email form inline | footer | subscribe successful")})}},m={freezeHeight:function(e,t){var n,r=function(){s.write(function(){e.css("min-height",""),o(),i()})},o=function(){s.read(function(){n=e.dim().height})},i=function(){s.defer(function(){e.css("min-height",n)})};return function(){t?r():(o(),i())}},setIframeHeight:function(e,t){return function(){s.write(function(){e.height="",e.height=e.contentWindow.document.body.clientHeight+"px",t.call()})}}};return{init:function(t){var n=t&&"IFRAME"===t.tagName,o=n?t.contentDocument.body:t||document;r("."+d.inlineLabel,o).each(function(t){e.init(t,{textInputClass:".js-email-sub__text-input",labelClass:".js-email-sub__label",hiddenLabelClass:"email-sub__label--is-hidden",labelEnabledClass:"email-sub__inline-label--enabled"})}),r("."+d.wrapper,o).each(function(e){var o=r(e),i=m.freezeHeight(o,!1),s=m.freezeHeight(o,!0);p.bindSubmit(r("."+d.form,e)),n?m.setIframeHeight(t,i).call():i.call(),a.on("window:resize",c(n?m.setIframeHeight(t,s):s,500))})}}}),define("common/modules/experiments/tests/rtrt-email-form-inline-footer",["common/utils/$","bean","bonzo","common/modules/identity/api","fastdom","common/modules/email/email"],function(e,t,n,r,o,i){return function(){var r=function(){o.write(function(){e(".js-footer__secondary").removeClass("l-footer__secondary--no-email").addClass("l-footer__secondary--has-email"),e(".js-button--social").remove(),e(".js-colophon__item--social").removeClass("is-hidden")})},s=function(){return n.create('<iframe src="/email/form" scrolling="no" seamless id="footer__email-form" frameborder="0" class="iframed--overflow-hidden email-sub__iframe"></iframe>')},a=function(e,n){return t.on(e,"load",function(){n&&n.headline&&c(n.headline,e),n&&n.removeComforter&&u(e),i.init(e)}),e},c=function(t,n){o.write(function(){e(".email-sub__heading",n.contentDocument.body).text(t)})},u=function(t){o.write(function(){e(".email-sub__small",t.contentDocument.body).remove()})};this.id="RtrtEmailFormInlineFooter",this.start="2015-11-13",this.expiry="2015-12-13",this.author="Gareth Trufitt",this.description="Test headings and comfort text (No spam, one click subscribe)",this.audience=0,this.audienceOffset=.9,this.successMeasure="X% more users sign up to the email in the footer",
this.audienceCriteria="All non logged-in users, not on the email landing page",this.dataLinkNames="",this.idealOutcome="Comfort messaging and headlines with stronger CTA get more sign-ups",this.canRun=function(){return!0},this.variants=[{id:"headline-a-with-comforter",test:function(){r(),o.write(function(){e(".footer__follow-us").prepend(a(s()[0],{headline:"daily email sign up"}))})}}]}}),define("lodash/arrays/flatten",["../internals/baseFlatten","../collections/map"],function(e,t){function n(n,r,o,i){return"boolean"!=typeof r&&null!=r&&(i=o,o="function"!=typeof r&&i&&i[r]===n?null:r,r=!1),null!=o&&(n=t(n,o,i)),e(n,r)}return n}),define("lodash/collections/some",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,n){function r(r,o,i){var s;if(o=t(o,i,3),n(r))for(var a=-1,c=r.length;++a<c&&!(s=o(r[a],a,r)););else e(r,function(e,t,n){return!(s=o(e,t,n))});return!!s}return r}),define("lodash/collections/find",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,n){function r(r,o,i){if(o=t(o,i,3),!n(r)){var s;return e(r,function(e,t,n){return o(e,t,n)?(s=e,!1):void 0}),s}for(var a=-1,c=r.length;++a<c;){var u=r[a];if(o(u,a,r))return u}}return r}),define("lodash/objects/pick",["../internals/baseFlatten","../functions/createCallback","./forIn","./isObject"],function(e,t,n,r){function o(o,i,s){var a={};if("function"!=typeof i)for(var c=-1,u=e(arguments,!0,!1,1),l=r(o)?u.length:0;++c<l;){var f=u[c];f in o&&(a[f]=o[f])}else i=t(i,s,3),n(o,function(e,t,n){i(e,t,n)&&(a[t]=e)});return a}return o}),define("common/modules/experiments/ab",["common/utils/report-error","common/utils/config","common/utils/cookies","common/utils/mediator","common/utils/storage","common/modules/analytics/mvt-cookie","common/modules/experiments/tests/high-commercial-component","common/modules/experiments/tests/inject-network-front-test-2","common/modules/experiments/tests/reach-dummy-test-2","common/modules/experiments/tests/essential-read-test-1","common/modules/experiments/tests/large-top-slot","common/modules/experiments/tests/video-preroll","common/modules/experiments/tests/rtrt-email-form-inline-footer","lodash/arrays/flatten","lodash/collections/forEach","lodash/objects/keys","lodash/collections/some","lodash/collections/filter","lodash/collections/map","lodash/collections/find","lodash/objects/pick","common/utils/chain"],function(e,t,n,r,o,i,s,a,c,u,l,f,d,p,h,m,g,v,y,b,w,x){function k(){return o.local.get(D)||{}}function S(e){var t=k();return t[e.id]}function j(e,t){var n=k();n[e.id]={variant:t},o.local.set(D,n)}function _(e){var t=k();delete t[e.id],o.local.set(D,t)}function C(){var e=k();h(m(e),function(e){if("undefined"==typeof t.switches["ab"+e])_({id:e});else{var n=g(H,function(t){return t.id===e});n||_({id:e})}})}function E(){return v(H,function(e){var t=new Date-new Date(e.expiry)>0;return t?(_(e),!1):!0})}function A(){return v(H,function(e){return new Date-new Date(e.expiry)>0})}function O(e){var n=new Date-new Date(e.expiry)>0,r=t.page.shouldHideAdverts;return(r?e.showForSensitive:!0)&&e.canRun()&&!n&&R(e)}function T(e){var t=v(H,function(t){return t.id===e});return t?t[0]:""}function I(){var e=k(),n=[];return h(m(e),function(t){O(T(t))&&n.push(["AB",t,e[t].variant].join(" | "))}),h(m(t.tests),function(e){e.toLowerCase().match(/^cm/)&&n.push(["AB",e,"variant"].join(" | "))}),h(q(),function(e){n.push("AB | "+e+" | inTest")}),n.join(",")}function P(e){if(S(e)&&O(e)){var t=k(),n=t[e.id].variant,r=F(e,n);r?r.test():"notintest"===n&&e.notInTest&&e.notInTest()}}function L(e){if(O(e)&&!S(e)){var t,n,r=i.getMvtNumValues()*e.audienceOffset,o=r+i.getMvtNumValues()*e.audience,s=i.getMvtValue();s&&s>r&&o>=s?(t=y(e.variants,function(e){return e.id}),n=s%t.length,j(e,t[n])):j(e,"notintest")}}function R(e){return t.switches["ab"+e.id]}function M(e){var t=k()[e];return t&&t.variant}function z(e,t){var n=k();n[e]&&(n[e].variant=t,o.local.set(D,n))}function N(e,t){var n=T(e);return n&&S(n)&&U.getTestVariantId(e)===t&&O(n)}function F(e,t){return b(e.variants,function(e){return e.id===t})}function q(){return x(t.tests).and(w,function(e){return!!e}).and(m).value()}var H=p([new s,new a,new c,new l,new f,new u,new d]),D="gu.ab.participations",U={addTest:function(e){H.push(e)},clearTests:function(){H=[]},segment:function(){h(E(),function(e){L(e)})},forceSegment:function(e,t){x(E()).and(v,function(t){return t.id===e}).and(h,function(e){j(e,t)}).valueOf()},segmentUser:function(){var e,t=/^#ab/.test(window.location.hash);t?(e=window.location.hash.replace("#ab-","").split(","),h(e,function(e){var t,n,r;t=e.split("="),n=t[0],r=t[1],U.forceSegment(n,r)})):U.segment(),C()},run:function(){h(E(),function(e){P(e)})},isEventApplicableToAnActiveTest:function(e){var t=m(k());return g(t,function(t){var n=T(t).events;return g(n,function(t){return 0===e.indexOf(t)})})},getActiveTestsEventIsApplicableTo:function(e){function t(e,t){return 0===e.indexOf(t)}var n=e.tag;return n&&x(E()).and(v,function(e){var r=e.events;return r&&g(r,function(e){return t(n,e)})}).and(y,function(e){return e.id}).valueOf()},getAbLoggableObject:function(){var t={};try{h(E(),function(e){if(S(e)&&O(e)){var n=M(e.id);n&&"notintest"!==n&&(t["ab"+e.id]=n)}}),h(q(),function(e){t["ab"+e]="inTest"})}catch(n){t={},e(n,!1)}return t},getParticipations:k,isParticipating:S,getTest:T,makeOmnitureTag:I,getExpiredTests:A,getActiveTests:E,getTestVariantId:M,setTestVariant:z,getVariant:F,testCanBeRun:function(e){return"string"==typeof e?O(b(H,function(t){return t.id===e})):e.id&&e.expiry&&O(e)},shouldRunTest:N,reset:function(){H=[]}};return U}),define("lodash/internals/shimIsPlainObject",["../objects/forIn","../objects/isArguments","../objects/isFunction","./isNode","../support"],function(e,t,n,r,o){function i(i){var a,l;return!i||c.call(i)!=s||(a=i.constructor,n(a)&&!(a instanceof a))||!o.argsClass&&t(i)||!o.nodeClass&&r(i)?!1:o.ownLast?(e(i,function(e,t,n){return l=u.call(n,t),!1}),l!==!1):(e(i,function(e,t){l=t}),"undefined"==typeof l||u.call(i,l))}var s="[object Object]",a=Object.prototype,c=a.toString,u=a.hasOwnProperty;return i}),define("lodash/objects/isPlainObject",["./isArguments","../internals/isNative","../internals/shimIsPlainObject","../support"],function(e,t,n,r){var o="[object Object]",i=Object.prototype,s=i.toString,a=t(a=Object.getPrototypeOf)&&a,c=a?function(i){if(!i||s.call(i)!=o||!r.argsClass&&e(i))return!1;var c=i.valueOf,u=t(c)&&(u=a(c))&&a(u);return u?i==u||a(i)==u:n(i)}:n;return c}),define("lodash/internals/baseMerge",["../collections/forEach","../objects/forOwn","../objects/isArray","../objects/isPlainObject"],function(e,t,n,r){function o(i,s,a,c,u){(n(s)?e:t)(s,function(e,t){var s,l,f=e,d=i[t];if(e&&((l=n(e))||r(e))){for(var p=c.length;p--;)if(s=c[p]==e){d=u[p];break}if(!s){var h;a&&(f=a(d,e),(h="undefined"!=typeof f)&&(d=f)),h||(d=l?n(d)?d:[]:r(d)?d:{}),c.push(e),u.push(d),h||o(d,e,a,c,u)}}else a&&(f=a(d,e),"undefined"==typeof f&&(f=e)),"undefined"!=typeof f&&(d=f);i[t]=d})}return o}),define("lodash/objects/merge",["../internals/baseCreateCallback","../internals/baseMerge","../internals/getArray","./isObject","../internals/releaseArray","../internals/slice"],function(e,t,n,r,o,i){function s(s){var a=arguments,c=2;if(!r(s))return s;if("number"!=typeof a[2]&&(c=a.length),c>3&&"function"==typeof a[c-2])var u=e(a[--c-1],a[c--],2);else c>2&&"function"==typeof a[c-1]&&(u=a[--c]);for(var l=i(arguments,1,c),f=-1,d=n(),p=n();++f<c;)t(s,l[f],u,d,p);return o(d),o(p),s}return s}),define("lodash/internals/keyPrefix",[],function(){var e=+new Date+"";return e}),define("lodash/internals/cacheIndexOf",["./baseIndexOf","./keyPrefix"],function(e,t){function n(n,r){var o=typeof r;if(n=n.cache,"boolean"==o||null==r)return n[r]?0:-1;"number"!=o&&"string"!=o&&(o="object");var i="number"==o?r:t+r;return n=(n=n[o])&&n[i],"object"==o?n&&e(n,r)>-1?0:-1:n?0:-1}return n}),define("lodash/internals/cachePush",["./keyPrefix"],function(e){function t(t){var n=this.cache,r=typeof t;if("boolean"==r||null==t)n[t]=!0;else{"number"!=r&&"string"!=r&&(r="object");var o="number"==r?t:e+t,i=n[r]||(n[r]={});"object"==r?(i[o]||(i[o]=[])).push(t):i[o]=!0}}return t}),define("lodash/internals/objectPool",[],function(){var e=[];return e}),define("lodash/internals/getObject",["./objectPool"],function(e){function t(){return e.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}return t}),define("lodash/internals/releaseObject",["./maxPoolSize","./objectPool"],function(e,t){function n(r){var o=r.cache;o&&n(o),r.array=r.cache=r.criteria=r.object=r.number=r.string=r.value=null,t.length<e&&t.push(r)}return n}),define("lodash/internals/createCache",["./cachePush","./getObject","./releaseObject"],function(e,t,n){function r(n){var r=-1,o=n.length,i=n[0],s=n[o/2|0],a=n[o-1];if(i&&"object"==typeof i&&s&&"object"==typeof s&&a&&"object"==typeof a)return!1;var c=t();c["false"]=c["null"]=c["true"]=c.undefined=!1;var u=t();for(u.array=n,u.cache=c,u.push=e;++r<o;)u.push(n[r]);return u}return r}),define("lodash/internals/largeArraySize",[],function(){var e=75;return e}),define("lodash/internals/baseUniq",["./baseIndexOf","./cacheIndexOf","./createCache","./getArray","./largeArraySize","./releaseArray","./releaseObject"],function(e,t,n,r,o,i,s){function a(a,c,u){var l=-1,f=e,d=a?a.length:0,p=[],h=!c&&d>=o,m=u||h?r():p;if(h){var g=n(m);f=t,m=g}for(;++l<d;){var v=a[l],y=u?u(v,l,a):v;(c?!l||m[m.length-1]!==y:f(m,y)<0)&&((u||h)&&m.push(y),p.push(v))}return h?(i(m.array),s(m)):u&&i(m),p}return a}),define("lodash/arrays/uniq",["../internals/baseUniq","../functions/createCallback"],function(e,t){function n(n,r,o,i){return"boolean"!=typeof r&&null!=r&&(i=o,o="function"!=typeof r&&i&&i[r]===n?null:r,r=!1),null!=o&&(o=t(o,i,3)),e(n,r,o)}return n}),define("common/modules/commercial/build-page-targeting",["common/utils/config","common/utils/cookies","common/utils/detect","common/utils/storage","common/modules/commercial/third-party-tags/audience-science-pql","common/modules/commercial/third-party-tags/krux","common/modules/identity/api","common/modules/commercial/user-ad-targeting","common/modules/experiments/ab","lodash/arrays/compact","lodash/collections/map","lodash/objects/forIn","lodash/objects/keys","lodash/objects/merge","lodash/arrays/uniq","lodash/objects/pick","lodash/objects/isArray"],function(e,t,n,r,o,i,s,a,c,u,l,f,d,p,h,m,g){var v=function(e){return e.replace(/[+\s]+/g,"-").toLowerCase()},y=function(e){return e?v(e).replace(/&/g,"and").replace(/'/g,""):null},b=function(e){if(e.seriesId)return w(e.seriesId);var t=/\/series\/(.+)$/.exec(e.pageId);return null===t?"":t[1]},w=function(e){return e?"uk/uk"===e?e:v(e.split("/").pop()):null},x=function(e){return e?u(l(e.split(","),function(e){return w(e)})):null},k=function(){var t=[],n=c.getParticipations();return f(n,function(e,n){e.variant&&"notintest"!==e.variant&&t.push(n+"-"+e.variant.substring(0,1))}),f(d(e.tests),function(e){e.toLowerCase().match(/^cm/)&&t.push(e)}),t},S=function(){if(t.get("adtest")){var e=t.get("adtest"),n=e.substring(0,4);return"demo"===n&&t.remove("adtest"),e}},j=function(){var e,t=r.local.get("gu.alreadyVisited")||0;return e=t>4?"5plus":t.toString()},_=function(){var e=[{id:"facebook",match:"facebook.com"},{id:"twitter",match:"t.co"},{id:"googleplus",match:"plus.url.google"}],t=e.filter(function(e){return n.getReferrer().indexOf(e.match)>-1})[0]||{};return t.id};return function(t){var r=(t||{}).window||window,c=e.page,l=y(c.contentType),f=p({url:r.location.pathname,edition:c.edition&&c.edition.toLowerCase(),se:b(c),ct:l,p:"ng",k:c.keywordIds?x(c.keywordIds):w(c.pageId),x:i.getSegments(),su:c.isSurging,pv:e.ophan.pageViewId,bp:n.getBreakpoint(),at:S(),si:s.isUserLoggedIn()?"t":"f",gdncrm:a.getUserSegments(),ab:k(),ref:_(),co:x(c.authorIds),bl:x(c.blogIds),ms:y(c.source),fr:j(),tn:h(u([c.sponsorshipType].concat(x(c.tones)))),vl:"Video"===c.contentType?(30*Math.ceil(c.videoDuration/30)).toString():void 0},o.getSegments());return m(f,function(e){return g(e)?e.length>0:e})}}),define("common/modules/commercial/dfp-ophan-tracking",["raven"],function(e){function t(t,n){function r(){if(t.debug_log&&t.debug_log.log){var e=t.debug_log.log,n={3:"fetch",4:"receive",6:"render"};t.debug_log.log=function(t,r,o,s){var a,c,u=r.getMessageId();return u&&s&&(a=s.getSlotId().getDomId(),i[a]=i[a]||{},c=n[u],i[a][c]=(new Date).getTime()),e.apply(this,arguments)}}}function o(){function r(e,t){return e&&t?t-e:void 0}t.pubads().addEventListener("slotRenderEnded",e.wrap(function(e){require(["ophan/ng"],function(t){function o(e){return e.isEmpty?"__empty__":e.lineItemId}var s=e.slot.getSlotId().getDomId(),a=i[s]||{};t.record({ads:[{slot:e.slot.getSlotId().getDomId(),campaignId:o(e),creativeId:e.creativeId,timeToRenderEnded:r(n,(new Date).getTime()),timeToAdRequest:r(n,a.fetch),adRetrievalTime:r(a.fetch,a.receive),adRenderTime:r(a.receive,a.render),adServer:"DFP"}]})})}))}var i={};r(),o()}return{trackPerformance:t}}),define("lodash/internals/baseClone",["../objects/assign","./baseEach","../objects/forOwn","./getArray","../objects/isArray","./isNode","../objects/isObject","./releaseArray","./slice","../support"],function(e,t,n,r,o,i,s,a,c,u){function l(d,p,g,y,k){if(g){var C=g(d);if("undefined"!=typeof C)return C}var E=s(d);if(!E)return d;var A=S.call(d);if(!x[A]||!u.nodeClass&&i(d))return d;var O=_[A];switch(A){case h:case m:return new O(+d);case v:case w:return new O(d);case b:return C=O(d.source,f.exec(d)),C.lastIndex=d.lastIndex,C}var T=o(d);if(p){var I=!y;y||(y=r()),k||(k=r());for(var P=y.length;P--;)if(y[P]==d)return k[P];C=T?O(d.length):{}}else C=T?c(d):e({},d);return T&&(j.call(d,"index")&&(C.index=d.index),j.call(d,"input")&&(C.input=d.input)),p?(y.push(d),k.push(C),(T?t:n)(d,function(e,t){C[t]=l(e,p,g,y,k)}),I&&(a(y),a(k)),C):C}var f=/\w*$/,d="[object Arguments]",p="[object Array]",h="[object Boolean]",m="[object Date]",g="[object Function]",v="[object Number]",y="[object Object]",b="[object RegExp]",w="[object String]",x={};x[g]=!1,x[d]=x[p]=x[h]=x[m]=x[v]=x[y]=x[b]=x[w]=!0;var k=Object.prototype,S=k.toString,j=k.hasOwnProperty,_={};return _[p]=Array,_[h]=Boolean,_[m]=Date,_[g]=Function,_[y]=Object,_[v]=Number,_[b]=RegExp,_[w]=String,l}),define("lodash/objects/clone",["../internals/baseClone","../internals/baseCreateCallback"],function(e,t){function n(n,r,o,i){return"boolean"!=typeof r&&null!=r&&(i=o,o=r,r=!1),e(n,r,"function"==typeof o&&t(o,i,1))}return n}),define("common/modules/component",["bean","bonzo","qwery","common/utils/ajax","lodash/objects/assign","lodash/objects/clone"],function(e,t,n,r,o,i){function s(e){return new Error("Component: "+e)}var a=function(){};return a.prototype.useBem=!1,a.prototype.templateName=null,a.prototype.componentClass=null,a.prototype.endpoint=null,a.prototype.classes=null,a.prototype.elem=null,a.prototype.model=null,a.prototype.template=null,a.prototype.rendered=!1,a.prototype.destroyed=!1,a.prototype.elems=null,a.prototype.options=null,a.prototype.defaultOptions={},a.prototype.responseDataKey="html",a.prototype.autoupdated=!1,a.prototype.updateEvery=60,a.prototype.t=null,a.prototype.fetchData=null,a.prototype.manipulationType="append",a.prototype.attachTo=function(e){if(this.checkAttached(),!e)throw new s("Need element to attach to");this.elem=e,this._prerender(),this._ready()},a.prototype.render=function(e){this.checkAttached();var n=t.create(this.template?this.template:document.getElementById("tmpl-"+this.templateName).innerHTML)[0],r=e||document.body;return this.elem=n,this._prerender(),t(r)[this.manipulationType](this.elem),this._ready(),this},a.prototype.checkAttached=function(){if(this.rendered)throw new s("Already rendered")},a.prototype.fetch=function(e,n){this.checkAttached(),this.responseDataKey=n||this.responseDataKey;var r=this;return this._fetch().then(function(n){r.elem=t.create(n[r.responseDataKey])[0],r._prerender(),r.destroyed||(t(e)[r.manipulationType](r.elem),r._ready(r.elem))}).fail(function(e){r.error(e)})},a.prototype._fetch=function(){var e,t="function"==typeof this.endpoint?this.endpoint():this.endpoint,n=this;for(e in this.options)t=t.replace(":"+e,this.options[e]);return r({url:t,type:"json",method:"get",crossOrigin:!0,data:this.fetchData}).then(function(e){return n.fetched(e),e})},a.prototype._ready=function(e){this.destroyed||(this.rendered=!0,this._autoupdate(),this.ready(e))},a.prototype._prerender=function(){this.elems={},this.prerender()},a.prototype._autoupdate=function(){function e(){n._fetch().then(function(r){n.autoupdate(t.create(r[n.responseDataKey])[0]),n.autoupdated&&(n.t=setTimeout(e,1e3*n.updateEvery))},function(){n.t=setTimeout(e,1e3*n.updateEvery)})}var n=this;this.autoupdated&&(this.t=setTimeout(e,1e3*this.updateEvery))},a.prototype.prerender=function(){},a.prototype.ready=function(){},a.prototype.error=function(){},a.prototype.fetched=function(){},a.prototype.autoupdate=function(e){var n=this.elem;this.elem=e,this._prerender(),t(n).replaceWith(this.elem)},a.prototype.dispose=function(){},a.prototype.on=function(t,n,r){return"function"==typeof n?(r=n,e.on(this.elem,t,r.bind(this))):(n=n.length?n:[n],e.on(this.elem,t,n,r.bind(this))),this},a.prototype.emit=function(t,n){e.fire(this.elem,t,n)},a.prototype.getElem=function(e){if(this.elems[e])return this.elems[e];var t=n(this.getClass(e),this.elem)[0];return this.elems[e]=t,t},a.prototype.getClass=function(e,t){var n=this.useBem?this.componentClass+"__"+e:this.classes[e];return(t?"":".")+n},a.prototype.setState=function(e,n){var r=n?this.getElem(n):this.elem;t(r).addClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.removeState=function(e,n){var r=n?this.getElem(n):this.elem;return t(r).removeClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.toggleState=function(e,n){var r=n?this.getElem(n):this.elem;t(r).toggleClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.hasState=function(e,n){var r=n?this.getElem(n):this.elem;return t(r).hasClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.setOptions=function(e){this.options=o(i(this.defaultOptions),this.options||{},e)},a.prototype.detach=function(){e.off(this.elem)},a.prototype.destroy=function(){this.elem&&(t(this.elem).remove(),delete this.elem),clearTimeout(this.t),this.t=null,this.autoupdated=!1,this.detach(),this.destroyed=!0,this.rendered=!1},a.define=function(e){function t(){}t.prototype=a.prototype,e.prototype=new t,e.prototype.constructor=e},a}),define("common/modules/onward/geo-most-popular",["Promise","qwery","common/modules/component","common/utils/mediator","lodash/functions/once"],function(e,t,n,r,o){function i(){r.emit("register:begin","geo-most-popular")}var s=new e(function(e,t){r.on("modules:onward:geo-most-popular:ready",e),r.on("modules:onward:geo-most-popular:error",t)});return n.define(i),i.prototype.endpoint="/most-read-geo.json",i.prototype.ready=function(){r.emit("register:end","geo-most-popular"),r.emit("modules:onward:geo-most-popular:ready",this)},i.prototype.error=function(e){r.emit("modules:onward:geo-most-popular:error",e)},{render:o(function(){return(new i).fetch(t(".js-components-container"),"rightHtml"),s}),whenRendered:s}}),define("lodash/internals/baseDifference",["./baseIndexOf","./cacheIndexOf","./createCache","./largeArraySize","./releaseObject"],function(e,t,n,r,o){function i(i,s){var a=-1,c=e,u=i?i.length:0,l=u>=r,f=[];if(l){var d=n(s);d?(c=t,s=d):l=!1}for(;++a<u;){var p=i[a];c(s,p)<0&&f.push(p)}return l&&o(s),f}return i}),define("lodash/objects/omit",["../internals/baseDifference","../internals/baseFlatten","../functions/createCallback","./forIn"],function(e,t,n,r){function o(o,i,s){var a={};if("function"!=typeof i){var c=[];r(o,function(e,t){c.push(t)}),c=e(c,t(arguments,!0,!1,1));for(var u=-1,l=c.length;++u<l;){var f=c[u];a[f]=o[f]}}else i=n(i,s,3),r(o,function(e,t,n){i(e,t,n)||(a[t]=e)});return a}return o}),define("lodash/arrays/intersection",["../internals/baseIndexOf","../internals/cacheIndexOf","../internals/createCache","../internals/getArray","../objects/isArguments","../objects/isArray","../internals/largeArraySize","../internals/releaseArray","../internals/releaseObject"],function(e,t,n,r,o,i,s,a,c){function u(){for(var u=[],l=-1,f=arguments.length,d=r(),p=e,h=p===e,m=r();++l<f;){var g=arguments[l];(i(g)||o(g))&&(u.push(g),d.push(h&&g.length>=s&&n(l?u[l]:m)))}var v=u[0],y=-1,b=v?v.length:0,w=[];e:for(;++y<b;){var x=d[0];if(g=v[y],(x?t(x,g):p(m,g))<0){for(l=f,(x||m).push(g);--l;)if(x=d[l],(x?t(x,g):p(u[l],g))<0)continue e;w.push(g)}}for(;f--;)x=d[f],x&&c(x);return a(d),a(m),w}return u}),define("common/modules/commercial/dfp-api",["bean","bonzo","qwery","Promise","raven","common/utils/$","common/utils/$css","common/utils/config","common/utils/detect","common/utils/mediator","common/utils/url","common/utils/user-timing","common/utils/sha1","common/utils/fastdom-idle","common/modules/commercial/ads/sticky-mpu","common/modules/commercial/build-page-targeting","common/modules/commercial/commercial-features","common/modules/commercial/dfp-ophan-tracking","common/modules/onward/geo-most-popular","common/modules/experiments/ab","common/modules/analytics/beacon","common/modules/identity/api","lodash/functions/once","lodash/objects/forOwn","lodash/collections/forEach","lodash/objects/keys","lodash/functions/debounce","lodash/objects/defaults","lodash/collections/contains","lodash/arrays/uniq","lodash/arrays/flatten","lodash/collections/every","lodash/collections/map","lodash/arrays/zipObject","lodash/collections/filter","common/utils/chain","lodash/objects/omit","lodash/collections/find","lodash/arrays/last","lodash/arrays/intersection","lodash/arrays/initial"],function(bean,bonzo,qwery,Promise,raven,$,$css,config,detect,mediator,urlUtils,userTiming,sha1,idleFastdom,StickyMpu,buildPageTargeting,commercialFeatures,dfpOphanTracking,geoMostPopular,ab,beacon,id,once,forOwn,forEach,keys,debounce,defaults,contains,uniq,flatten,every,map,zipObject,filter,chain,omit,find,last,intersection,initial){var resizeTimeout,adSlotSelector=".js-ad-slot",displayed=!1,rendered=!1,slots={},slotsToRefresh=[],creativeIDs=[],hasBreakpointChanged=detect.hasCrossedBreakpoint(!0),breakoutClasses=["breakout__html","breakout__script"],callbacks={"300,251":function(e,t){new StickyMpu(t).create()},"300,250":function(e,t){config.switches.viewability&&t.hasClass("ad-slot--right")&&t.attr("data-mobile").indexOf("300,251")>-1&&new StickyMpu(t,{top:58}).create()},"1,1":function(e,t){if(!e.slot.getOutOfPage()){t.addClass("u-h");var n=t.parent();n.hasClass("js-fc-slice-mpu-candidate")&&n.addClass("fc-slice__item--no-mpu")}},"300,1050":function(){geoMostPopular.whenRendered.then(function(e){idleFastdom.write(function(){bonzo(e.elem).remove()})})}},renderStartTime=null,recordFirstAdRendered=once(function(){beacon.beaconCounts("ad-render")}),setListeners=function(){dfpOphanTracking.trackPerformance(googletag,renderStartTime),googletag.pubads().addEventListener("slotRenderEnded",raven.wrap(function(e){rendered=!0,recordFirstAdRendered(),mediator.emit("modules:commercial:dfp:rendered",e),parseAd(e)}))},setPageTargeting=function(){forOwn(buildPageTargeting(),function(e,t){googletag.pubads().setTargeting(t,e)})},isMobileBannerTest=function(){return config.switches.mobileTopBannerRemove&&$(".top-banner-ad-container--ab-mobile").length>0&&"mobile"===detect.getBreakpoint()},isSponsorshipContainerTest=function(){var e=["#dfp-ad--adbadge","#dfp-ad--spbadge","#dfp-ad--fobadge","#dfp-ad--adbadge1","#dfp-ad--spbadge1","#dfp-ad--fobadge1","#dfp-ad--adbadge2","#dfp-ad--spbadge2","#dfp-ad--fobadge2","#dfp-ad--adbadge3","#dfp-ad--spbadge3","#dfp-ad--fobadge3","#dfp-ad--adbadge4","#dfp-ad--spbadge4","#dfp-ad--fobadge4","#dfp-ad--adbadge5","#dfp-ad--spbadge5","#dfp-ad--fobadge5"],t=[];return forEach(e,function(e){$(e).length&&t.push(e)}),t},showSponsorshipPlaceholder=function(){var e=isSponsorshipContainerTest();detect.adblockInUse()&&e.length&&idleFastdom.write(function(){forEach(e,function(e){var t=$(e),n=t.attr("class").replace("ad-slot ",""),r='<div class="'+n+'">'+t.html()+"</div>";t.previous().length?t.previous().append(r):t.parent().prepend(r)})})},shouldFilterAdvert=function(e){function t(){return"none"===$css(e,"display")}function n(){return isMobileBannerTest()&&e.hasClass("ad-slot--top")}function r(){return!commercialFeatures.topBannerAd&&"top-above-nav"===e.data("name")}return t()||n()||r()},defineSlots=function(){slots=chain(qwery(adSlotSelector)).and(map,function(e){return bonzo(e)}).and(filter,function(e){return shouldFilterAdvert(e)?(idleFastdom.write(function(){e.remove()}),!1):!0}).and(map,function(e){return[e.attr("id"),{isRendered:!1,slot:defineSlot(e)}]}).and(zipObject).valueOf()},setPublisherProvidedId=function(){var e=id.getUserFromCookie();if(e){var t=sha1.hash(e.id);googletag.pubads().setPublisherProvidedId(t)}},displayAds=function(){googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),setPublisherProvidedId(),googletag.enableServices(),googletag.display(keys(slots).shift()),displayed=!0},displayLazyAds=function(){googletag.pubads().collapseEmptyDivs(),setPublisherProvidedId(),googletag.enableServices(),mediator.on("window:throttledScroll",lazyLoad),instantLoad(),lazyLoad()},windowResize=debounce(function(){hasBreakpointChanged(refresh)},resizeTimeout),postDisplay=function(){mediator.on("window:resize",windowResize)},setupAdvertising=function(e){var t=defaults(e||{},{resizeTimeout:2e3});resizeTimeout=t.resizeTimeout,window.googletag||(window.googletag={cmd:[]},require(["js!googletag.js"])),window.googletag.cmd.push=raven.wrap({deep:!0},window.googletag.cmd.push),window.googletag.cmd.push(function(){renderStartTime=(new Date).getTime()}),window.googletag.cmd.push(setListeners),window.googletag.cmd.push(setPageTargeting),window.googletag.cmd.push(defineSlots),shouldLazyLoad()?window.googletag.cmd.push(displayLazyAds):window.googletag.cmd.push(displayAds),window.googletag.cmd.push(postDisplay),showSponsorshipPlaceholder()},init=function(e){return commercialFeatures.dfpAdvertising?setupAdvertising(e):$(adSlotSelector).remove(),dfp},instantLoad=function(){chain(slots).and(keys).and(forEach,function(e){contains(["dfp-ad--pageskin-inread","dfp-ad--merchandising-high"],e)&&loadSlot(e)})},lazyLoad=function(){if(0===slots.length)mediator.off("window:throttledScroll",lazyLoad);else{var e=window.pageYOffset,t=bonzo.viewport().height,n=e+t,r=.5;chain(slots).and(keys).and(forEach,function(o){n>document.getElementById(o).getBoundingClientRect().top+e-t*r&&loadSlot(o)})}},loadSlot=function(e){googletag.display(e),slots=chain(slots).and(omit,e).value(),displayed=!0},addSlot=function(e){var t=e.attr("id"),n=function(e){slots[t]={isRendered:!1,slot:defineSlot(e)},googletag.display(t)};displayed&&!slots[t]&&(rendered?n(e):mediator.once("modules:commercial:dfp:rendered",function(){n(e)}))},refreshSlot=function(e){var t=slots[e.attr("id")].slot;t&&googletag.pubads().refresh([t])},getSlots=function(){return slots},defineSlot=function(e){var t=e.data("slot-target")||e.data("name"),n=urlUtils.getUrlVars()["ad-unit"],r=n?["/",config.page.dfpAccountId,"/",n].join(""):config.page.adUnit,o=e.attr("id"),i=defineSlotSizes(e),s=uniq(flatten(i,!0,function(e){return e[1]}),function(e){return e[0]+"-"+e[1]}),a=(e.data("out-of-page")?googletag.defineOutOfPageSlot(r,o):googletag.defineSlot(r,s,o)).addService(googletag.pubads()).defineSizeMapping(i).setTargeting("slot",t);return e.data("series")&&a.setTargeting("se",parseKeywords(e.data("series"))),e.data("keywords")&&a.setTargeting("k",parseKeywords(e.data("keywords"))),e.data("refresh")!==!1&&slotsToRefresh.push({$adSlot:e,slot:a}),a},parseAd=function(e){var t,n,r,o=e.slot.getSlotId().getDomId(),i=$("#"+o);allAdsRendered(o),e.isEmpty?removeLabel(i):(creativeIDs.push(e.creativeId),n=$(".ad-slot__content--placeholder",i),r=$("#"+o+" div"),idleFastdom.write(function(){n.remove(),r.addClass("ad-slot__content")}),checkForBreakout(i).then(function(n){n&&"gu-style"===n.type||addLabel(i),t=e.size.join(","),callbacks[t]&&callbacks[t](e,i),i.hasClass("ad-slot--container-inline")&&i.hasClass("ad-slot--not-mobile")?idleFastdom.write(function(){i.parent().css("display","flex")}):i.hasClass("ad-slot--top-above-nav")&&"1,1"===t||idleFastdom.write(function(){i.parent().css("display","block")}),(i.hasClass("ad-slot--top-banner-ad")&&"88,70"===t||i.hasClass("ad-slot--commercial-component")&&"88,88"===t)&&idleFastdom.write(function(){i.addClass("ad-slot__fluid250")})}))},allAdsRendered=function(e){slots[e]&&!slots[e].isRendered&&(slots[e].isRendered=!0),every(slots,"isRendered")&&(userTiming.mark("All ads are rendered"),mediator.emit("modules:commercial:dfp:alladsrendered"))},addLabel=function(e){idleFastdom.write(function(){var t="ad-slot__label";shouldRenderLabel(e)&&e.prepend('<div class="'+t+'" data-test-id="ad-slot-label">Advertisement</div>')})},removeLabel=function(e){idleFastdom.write(function(){$(".ad-slot__label",e).remove()})},shouldRenderLabel=function(e){return e.data("label")!==!1&&0===qwery(".ad-slot__label",e[0]).length},breakoutIFrame=function(iFrame,$slot){var shouldRemoveIFrame=!1,$iFrame=bonzo(iFrame),iFrameBody=iFrame.contentDocument.body,$iFrameParent=$iFrame.parent(),type={};return iFrameBody&&forEach(breakoutClasses,function(breakoutClass){$("."+breakoutClass,iFrameBody).each(function(breakoutEl){var creativeConfig,$breakoutEl=bonzo(breakoutEl),breakoutContent=$breakoutEl.html();"breakout__script"===breakoutClass?("application/json"===$breakoutEl.attr("type")?(creativeConfig=JSON.parse(breakoutContent),require(["bootstraps/creatives"],function(){require(["common/modules/commercial/creatives/"+creativeConfig.name],function(e){new e($slot,creativeConfig.params,creativeConfig.opts).create()})})):eval(breakoutContent),type={type:creativeConfig.params.adType||"",variant:creativeConfig.params.adVariant||""}):(idleFastdom.write(function(){$iFrameParent.append(breakoutContent),$breakoutEl.remove()}),$(".ad--responsive",$iFrameParent[0]).each(function(e){window.setTimeout(function(){idleFastdom.write(function(){bonzo(e).addClass("ad--responsive--open")})},50)})),shouldRemoveIFrame=!0})}),shouldRemoveIFrame&&idleFastdom.write(function(){$iFrame.hide()}),type},checkForBreakout=function(e){return Promise.all(map($("iframe",e),function(t){return new Promise(function(n){t.readyState&&"complete"!==t.readyState?bean.on(t,"readystatechange",function(t){var r=t.srcElement;r&&"unknown"!=typeof r.readyState&&"complete"===r.readyState&&(bean.off(r,"readystatechange"),n(breakoutIFrame(r,e)))}):n(breakoutIFrame(t,e))})})).then(function(e){return chain(e).and(find,function(e){return""!==e.adType}).value()})},breakpointNameToAttribute=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},getSlotsBreakpoint=function(e,t){return chain(detect.breakpoints).and(initial,function(t){return t.name!==e}).and(intersection,t).and(last).value()},shouldSlotRefresh=function(e,t,n){var r=chain(detect.breakpoints).and(filter,function(t){return e.$adSlot.data(breakpointNameToAttribute(t.name))}).valueOf(),o=getSlotsBreakpoint(t,r);return o&&getSlotsBreakpoint(n,r)!==o},refresh=function(e,t){googletag.pubads().refresh(chain(slotsToRefresh).and(filter,function(n){return shouldSlotRefresh(n,e,t)}).and(map,function(e){return e.slot}).valueOf())},createSizeMapping=function(e){return map(e.split("|"),function(e){return map(e.split(","),Number)})},defineSlotSizes=function(e){var t=googletag.sizeMapping();return forEach(detect.breakpoints,function(n){var r=e.data(breakpointNameToAttribute(n.name));r&&t.addSize([n.width,0],createSizeMapping(r))}),t.build()},parseKeywords=function(e){return map((e||"").split(","),function(e){return e.split("/").pop()})},shouldLazyLoad=function(){return config.switches.viewability&&!(config.page.hasPageSkin&&"wide"===detect.getBreakpoint())},getCreativeIDs=function(){return creativeIDs},dfp={init:init,addSlot:addSlot,refreshSlot:refreshSlot,
getSlots:getSlots,shouldLazyLoad:shouldLazyLoad,getCreativeIDs:getCreativeIDs,reset:function(){displayed=!1,rendered=!1,slots={},slotsToRefresh=[],mediator.off("window:resize",windowResize),hasBreakpointChanged=detect.hasCrossedBreakpoint(!0)}};return dfp}),define("text!common/views/commercial/badge.html",[],function(){return'<div class="ad-slot--paid-for-badge__inner ad-slot__content--placeholder">\n    <h3 class="ad-slot--paid-for-badge__header"><%=header%></h3>\n    <p class="ad-slot--paid-for-badge__header"><%=sponsor%></p>\n</div>\n'}),define("common/modules/commercial/badges",["bonzo","qwery","Promise","common/utils/$","common/utils/config","common/utils/template","common/utils/fastdom-idle","common/modules/commercial/create-ad-slot","common/modules/commercial/commercial-features","common/modules/commercial/dfp-api","text!common/views/commercial/badge.html","lodash/collections/map"],function(e,t,n,r,o,i,s,a,c,u,l,f){var d={sponsoredfeatures:{count:0,header:"Sponsored by:",namePrefix:"sp"},"advertisement-features":{count:0,header:"Brought to you by:",namePrefix:"ad"},"foundation-features":{count:0,header:"Supported by:",namePrefix:"fo"}},p=function(e,t,n){n&&e.append(i(l,{header:t,sponsor:n}))},h=function(t,o,i){var c=d[o],u=c.namePrefix+"badge",l=u+ ++c.count,f=e(a(l,["paid-for-badge","paid-for-badge--front"],i.series,i.keywords,u));return p(f,c.header,i.sponsor),new n(function(e){s.write(function(){r(".js-container__header",t).after(f),e(f)})})},m=function(){var o,i;return c.badges?(o=n.all(f(r(".js-sponsored-front"),function(n){var r=e(n);return h(t(".fc-container",n)[0],r.data("sponsorship"),{sponsor:r.data("sponsor")})})),i=o.then(function(){return n.all(f(r(".js-sponsored-container"),function(n){if(0===t(".ad-slot--paid-for-badge",n).length){var r=e(n);return h(n,r.data("sponsorship"),{sponsor:r.data("sponsor"),series:r.data("series"),keywords:r.data("keywords")})}}))})):!1},g={init:m,add:function(n){var r=e(n);return r.hasClass("js-sponsored-container")&&0===t(".ad-slot--paid-for-badge",n).length?h(n,r.data("sponsorship"),{sponsor:r.data("sponsor"),series:r.data("series"),keywords:r.data("keywords")}).then(function(e){u.addSlot(e)}):void 0},reset:function(){for(var e in d)d[e].count=0}};return g}),define("common/utils/date-formats",[],function(){function e(e){return new Date(e).toISOString().substr(0,10).replace(/-/g,"/")}return{utcDateString:e}}),define("common/utils/defer-to-analytics",["common/utils/mediator"],function(e){function t(t){n?t():e.on("analytics:ready",function(){t()})}var n=!1;return e.on("analytics:ready",function(){n=!0}),t}),define("text!common/views/history/tag.html",[],function(){return'<li class="inline-list__item">\n    <a href="/<%=id%>" class="button button--small button--tag button--secondary" data-link-name="<%=index%> | <%=name%>"><%=name%></a>\n</li>\n'}),define("text!common/views/history/mega-nav.html",[],function(){return'<li class="global-navigation__section js-global-navigation__section--history" data-link-name="shortcuts">\n    <span class="global-navigation__title global-navigation__title--history">recently visited</span>\n    <ul class="global-navigation__children global-navigation__children--history">\n        <%=tags%>\n        <a class="button button--small button--tag button--tertiary" href="/preferences" data-link-name="edit">edit these</a>\n    </ul>\n</li>\n'}),define("lodash/objects/isNumber",[],function(){function e(e){return"number"==typeof e||e&&"object"==typeof e&&r.call(e)==t||!1}var t="[object Number]",n=Object.prototype,r=n.toString;return e}),define("lodash/internals/compareAscending",[],function(){function e(e,t){for(var n=e.criteria,r=t.criteria,o=-1,i=n.length;++o<i;){var s=n[o],a=r[o];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}return e}),define("lodash/collections/sortBy",["../internals/compareAscending","../functions/createCallback","./forEach","../internals/getArray","../internals/getObject","../objects/isArray","./map","../internals/releaseArray","../internals/releaseObject"],function(e,t,n,r,o,i,s,a,c){function u(u,l,f){var d=-1,p=i(l),h=u?u.length:0,m=Array("number"==typeof h?h:0);for(p||(l=t(l,f,3)),n(u,function(e,t,n){var i=m[++d]=o();p?i.criteria=s(l,function(t){return e[t]}):(i.criteria=r())[0]=l(e,t,n),i.index=d,i.value=e}),h=m.length,m.sort(e);h--;){var g=m[h];m[h]=g.value,p||a(g.criteria),c(g)}return m}return u}),define("lodash/collections/reduceRight",["../functions/createCallback","./forEachRight"],function(e,t){function n(n,r,o,i){var s=arguments.length<3;return r=e(r,i,4),t(n,function(e,t,n){o=s?(s=!1,e):r(o,e,t,n)}),o}return n}),define("common/modules/onward/history",["fastdom","common/utils/$","common/utils/config","common/utils/template","common/utils/storage","common/utils/url","common/modules/experiments/ab","text!common/views/history/tag.html","text!common/views/history/mega-nav.html","lodash/objects/isObject","lodash/objects/isNumber","lodash/collections/find","lodash/collections/forEach","lodash/collections/some","lodash/objects/keys","lodash/objects/assign","lodash/collections/reduce","lodash/objects/isArray","lodash/collections/map","common/utils/chain","lodash/arrays/compact","lodash/collections/pluck","lodash/arrays/last","lodash/collections/sortBy","lodash/collections/reduceRight"],function(e,t,n,r,o,i,s,a,c,u,l,f,d,p,h,m,g,v,y,b,w,x,k,S,j){function _(e){return K=e,o.local.set(oe,e)}function C(e){return X=e,o.local.set(ie,e)}function E(){return K=K||o.local.get(oe)||[]}function A(){return X||(X=o.local.get(ie),u(X)&&u(X.tags)&&l(X.periodEnd)||(X={periodEnd:se,tags:{},showInMegaNav:!0})),X}function O(e){var t=A();delete t.tags[e],C(t)}function T(e){return(f(E(),function(t){return t[0]===e})||[])[1]>1}function I(e,t){var n=t||se,r=n-e.periodEnd;return 0!==r&&(e.periodEnd=n,d(e.tags,function(t,n){var o=b(ee).and(y,function(e){var n=b(t[e.indexInRecord]).and(y,function(e){var t=e[0]+r;return te>t&&t>=0?[t,e[1]]:!1}).and(w).value();return n.length>1||1===n.length&&n[0][0]<ne?n:[]}).value();p(o,function(e){return e.length})?e.tags[n]=[t[0]].concat(o):delete e.tags[n]})),e}function P(e){var t=A().tags,n=h(t),r=m({number:100,weights:{},thresholds:{}},e);return n=r.whitelist?n.filter(function(e){return r.whitelist.indexOf(e)>-1}):n,n=r.blacklist?n.filter(function(e){return-1===r.blacklist.indexOf(e)}):n,b(n).and(y,function(e){var n=t[e],o=g(ee,function(e,t){return e+R(n[t.indexInRecord],r.weights[t.type],r.thresholds[t.type])},0);return{idAndName:[e,n[0]],rank:o}}).and(w).and(S,"rank").and(k,r.number).reverse().and(x,"idAndName").value()}function L(e){var t=e&&e.flush;return Q=!t&&Q||P({blacklist:H(),number:10,weights:{content:1,front:5},thresholds:{content:5,front:1}})}function R(e,t,n){var r,o=0;return t=t||1,n=n||1,r=g(e,function(e,n){var r=n[0],i=n[1];return o+=i,e+t*(9+i)*(te-r)},0),n>o?0:r}function M(e){return(e||"").split(",")[0]}function z(e){return e?(e=e.replace(/^\/|\/$/g,""),e.match(ce)&&(e=e.replace(ue,"")),e=e.split("/"),e=2===e.length&&e[0]===e[1]?[e[0]]:e,e.join("/")):""}function N(){K=void 0,X=void 0,o.local.remove(oe),o.local.remove(ie)}function F(e){var t,n=e.pageId,r=0;e.isFront||(t=E().filter(function(e){var t=v(e),o=t&&e[0]===n;return r=o?e[1]:r,t&&!o}),t.unshift([n,r+1]),_(t.slice(0,re)))}function q(e,t){var n=I(A(),t),r=z(e.pageId),o=!1;b(Z).and(j,function(t,n){var i=z(M(e[n.tid])),s=i&&M(e[n.tname]);return i&&s&&(t[i]=s),o=o||i===r,t},{}).and(d,function(e,t){var r,i,s=n.tags[t]||[];d(ee,function(e){s[e.indexInRecord]=s[e.indexInRecord]||[]}),s[0]=e,r=s[o?2:1],i=f(r,function(e){return 0===e[0]}),i?i[1]=i[1]+1:r.unshift([0,1]),n.tags[t]=s}),C(n)}function H(){return Y=Y||t(".js-navigation-header .js-top-navigation a").map(function(e){return z(i.getPath(t(e).attr("href")))})}function D(){return t(".js-global-navigation")}function U(){var t,n;A().showInMegaNav!==!1&&(ae&&$(),t=L(),t.length&&(n=r(c,{tags:t.map(W).join("")}),e.write(function(){D().prepend(n)}),ae=!0))}function $(){D().each(function(n){e.write(function(){t(".js-global-navigation__section--history",n).remove()})}),ae=!1}function B(){return A().showInMegaNav!==!1}function V(e){var t=A();t.showInMegaNav=!!e,t.showInMegaNav?U():$(),C(t)}function W(e,t){return r(a,{id:e[0],name:e[1],index:t+1})}var K,X,Q,Y,G=["uk","us","au"],J=["business","commentisfree","culture","environment","media","money","sport","technology"],Z=[{tid:"section",tname:"sectionName"},{tid:"keywordIds",tname:"keywords"},{tid:"seriesId",tname:"series"},{tid:"authorIds",tname:"author"}],ee=[{type:"content",indexInRecord:1},{type:"front",indexInRecord:2}],te=30,ne=10,re=50,oe="gu.history",ie="gu.history.summary",se=Math.floor(Date.now()/864e5),ae=!1,ce=new RegExp("^("+G.join("|")+")/("+J.join("|")+")$"),ue=new RegExp("^("+G.join("|")+")/");return{logHistory:F,logSummary:q,showInMegaNav:U,showInMegaNavEnable:V,showInMegaNavEnabled:B,getPopular:P,getPopularFiltered:L,deleteFromSummary:O,isRevisit:T,reset:N,test:{getSummary:A,getHistory:E,pruneSummary:I}}}),define("common/modules/analytics/omniture",["common/utils/$","common/utils/config","common/utils/cookies","common/utils/date-formats","common/utils/defer-to-analytics","common/utils/detect","common/utils/mediator","common/utils/storage","common/modules/analytics/beacon","common/modules/analytics/mvt-cookie","common/modules/experiments/ab","common/modules/onward/history","common/modules/identity/api","lodash/objects/assign","lodash/collections/forEach","lodash/arrays/uniq","lodash/collections/map","common/utils/robust"],function(e,t,n,r,o,i,s,a,c,u,l,f,d,p,h,m,g,v){function y(){this.s=window.s,this.pageviewSent=!1,this.addHandlers()}var b="s_ni",w="gu.analytics.referrerVars",x="channel,prop1,prop2,prop3,prop4,prop8,prop9,prop10,prop13,prop25,prop31,prop37,prop38,prop47,prop51,prop61,prop64,prop65,prop74,prop40,prop63,eVar7,eVar37,eVar38,eVar39,eVar50,eVar24,eVar60,eVar51,eVar31,eVar18,eVar32,eVar40,list1,list2,list3,events";return y.prototype.getStandardProps=function(){return x},y.prototype.addHandlers=function(){s.on("module:clickstream:interaction",this.trackLinkImmediate.bind(this));var e=this.logTag.bind(this);s.on("module:clickstream:click",function(t){v.catchErrorsAndLog("c-analytics",function(){e(t)})})},y.prototype.logView=function(){this.s.tl(!0,"o","Omniture topup call")},y.prototype.logTag=function(e){var t,n;if(e.validTarget)if(e.sameHost&&!e.samePage){t={pageName:this.s.pageName,tag:e.tag||"untracked",time:(new Date).getTime()};try{sessionStorage.setItem(b,t.tag)}catch(r){}a.session.set(w,t)}else n=e.samePage?!0:e.target,this.trackLink(n,e.tag,{customEventProperties:e.customEventProperties})},y.prototype.populateEventProperties=function(e){this.s.linkTrackVars=x,this.s.linkTrackEvents="event37",this.s.events="event37",this.s.eVar37=t.page.contentType?t.page.contentType+":"+e:e,this.s.eVar7="D=pageName",this.s.prop37="D=v37",/social/.test(e)&&(this.s.linkTrackVars+=",eVar12",this.s.linkTrackEvents+=",event16",this.s.events+=",event16",this.s.eVar12=e)},y.prototype.trackLinkImmediate=function(e){this.trackLink(!0,e)},y.prototype.trackLink=function(e,t,n){n=n||{},this.populateEventProperties(t),p(this.s,n.customEventProperties),this.s.tl(e,"o",t),h(n.customEventProperties,function(e,t){delete this.s[t]})},y.prototype.populatePageProperties=function(){var n,r=a.session.get(w),o=l.makeOmnitureTag(document),s=u.getMvtFullId();d.getUserFromCookie()&&(this.s.prop2="GUID:"+d.getUserFromCookie().id,this.s.eVar2="GUID:"+d.getUserFromCookie().id),this.s.eVar18=i.getBreakpoint(),this.s.eVar32=i.getOrientation(),this.s.prop60=i.isFireFoxOSApp()?"firefoxosapp":null,this.s.prop31=d.getUserFromCookie()?"registered user":"guest user",this.s.eVar31=d.getUserFromCookie()?"registered user":"guest user",this.s.prop40=i.adblockInUse()||i.getFirefoxAdblockPlusInstalled(),this.s.prop51=t.page.allowUserGeneratedContent?"witness-contribution-cta-shown":null,this.s.eVar51=o,this.s.list1=o,this.s.list2=m(e("[data-component]").map(function(t){return e(t).attr("data-component")})).toString(),this.s.list3=g(f.getPopularFiltered(),function(e){return e[1]}).join(","),this.s.eVar51&&(this.s.events=this.s.apl(this.s.events,"event58",",")),s&&(this.s.eVar60=s),this.s.prop63=i.getPageSpeed(),r&&(n=(new Date).getTime(),n-r.time<6e4&&(this.s.eVar24=r.pageName,this.s.eVar37=r.tag,this.s.events="event37",this.s.eVar7=r.pageName,this.s.prop37=r.tag),a.session.remove(b),a.session.remove(w)),this.s.prop73=i.isFacebookApp()?"facebook app":i.isTwitterApp()?"twitter app":null,this.s.prop38=m(e("[data-sponsorship]")).map(function(e){var t=e.getAttribute("data-sponsorship"),n=e.getAttribute("data-sponsor"),r=n?n:"unknown";return t+":"+r}).toString(),this.s.linkTrackVars=x,this.s.linkTrackEvents="None"},y.prototype.go=function(){this.populatePageProperties(),this.logView(),s.emit("analytics:ready")},new y}),define("common/modules/lazyload",["common/utils/ajax","bonzo","lodash/objects/assign"],function(e,t,n){var r=function(r){var o,i={success:function(){},error:function(){},always:function(){},beforeInsert:function(e){return e},force:!1},s=n(i,r||{});this.load=function(){return s.url&&s.container&&(o=t(s.container),s.force||!o.hasClass("lazyloaded"))?e({url:s.url,type:"json",crossOrigin:!0}).then(function(e){o.html(s.beforeInsert(e.html)),o.addClass("lazyloaded"),s.success(e)},function(e){s.error(e)}).always(function(e){s.always(e)}):void 0}};return r}),define("common/modules/ui/images",["bonzo","picturefill","common/utils/$","common/utils/$css","common/utils/mediator"],function(e,t,n,r,o){var i={upgradePictures:function(e){var r=[].slice.call(n("img[srcset]",e||document.body));t({elements:r})},listen:function(){o.addListeners({"ui:images:upgradePictures":i.upgradePictures})}};return i}),define("common/modules/ui/tabs",["common/utils/$","bean","bonzo"],function(e,t,n){var r=function(){var r={showTab:function(t,r,o){var i="tabs__tab--selected tone-colour tone-accent-border",s=e(".tabs__tab--selected a",t)[0],a=t.querySelector("#"+r.getAttribute("href").substring(1)),c=t.querySelector("#"+s.getAttribute("href").substring(1));n(s.parentNode).removeClass(i),n(r.parentNode).addClass(i),n(s.parentNode).attr("aria-selected",!1),n(r.parentNode).attr("aria-selected",!0),n(c).hide(),n(a).removeClass("modern-hidden").show().focus(),o.preventDefault()}};this.init=function(){Array.prototype.forEach.call(document.body.querySelectorAll(".tabs"),function(o){var i=e(".js-tabs",o)[0],s=0,a=0;if(i){if(i.getAttribute("data-is-bound")===!0)return!1;s=n(i).offset().top,t.add(i,"click",function(e){var t=e.target;"a"===t.nodeName.toLowerCase()&&(r.showTab(o,t,e),a>s&&window.scrollTo(0,s))}),i.setAttribute("data-is-bound",!0)}})}};return r}),define("common/modules/ui/toggles",["bean","bonzo","common/utils/$","common/utils/mediator","lodash/collections/contains"],function(e,t,n,r,o){var i=function(i){var s,a=this,c=["popup--search"],u="js-toggle-ready",l=n(".js-profile-nav").hasClass("is-signed-in"),f=i||document.body;this.init=function(){s=Array.prototype.slice.call(f.querySelectorAll("[data-toggle]")),s.forEach(function(n){if(!t(n).hasClass(u)){var r=a.getTarget(n);r&&(l||"true"!==n.getAttribute("data-toggle-signed-in"))&&(n.toggleTarget=r,t(n).addClass(u),e.add(n,"click",function(e){e.preventDefault(),a.toggle(n,s)}))}})},this.reset=function(e){s.filter(function(t){return!(e===t||o(c,n(t).attr("data-toggle")))}).map(a.close)},r.on("module:clickstream:click",function(e){a.reset(e?e.target:null)})};return i.prototype.toggle=function(e,n){var r=this;n.forEach(function(n){n===e?r[t(n).hasClass("is-active")?"close":"open"](n):r.close(n)})},i.prototype.getTarget=function(e){var n=t(e).data("toggle");return n?document.body.querySelector("."+n):void 0},i.prototype.open=function(e){t(e).addClass("is-active"),t(e.toggleTarget).removeClass("is-off")},i.prototype.close=function(e){t(e).removeClass("is-active"),t(e.toggleTarget).addClass("is-off")},i}),define("common/modules/ui/rhc",["common/utils/$","bonzo","lodash/collections/filter"],function(e,t,n){function r(r,i){i=i||1;var s,a="component--rhc";return e.create('<div class="'+a+'" data-importance="'+i+'"></div>').append(r).each(function(r){s=e("."+a,o[0]);var c=n(s,function(e){return!e.hasAttribute("data-importance")||i>parseInt(e.getAttribute("data-importance"),10)});0===c.length?o.append(r):t(c[0]).before(r)})}var o=e(".js-components-container");return{addComponent:r}}),define("core",["raven","picturefill","common/utils/$","common/utils/ajax","common/utils/config","common/utils/cookies","common/utils/detect","common/utils/mediator","common/utils/robust","common/utils/storage","common/utils/template","common/utils/url","common/utils/fastdom-errors","common/modules/analytics/beacon","common/modules/article/spacefinder","common/modules/commercial/badges","common/modules/commercial/build-page-targeting","common/modules/commercial/create-ad-slot","common/modules/commercial/commercial-features","common/modules/commercial/user-ad-targeting","common/modules/component","common/modules/analytics/omniture","common/modules/experiments/ab","common/modules/lazyload","common/modules/ui/images","common/modules/ui/tabs","common/modules/ui/toggles","common/modules/ui/rhc","common/modules/user-prefs","common/views/svgs"],function(){});
//# sourceMappingURL=core.js.map